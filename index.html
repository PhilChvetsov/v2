
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #f92672;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sa, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-70013677.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-1361b384.js"></script>
    <link href="images/favicon-92b8c2e4.ico" rel="icon" type="image/ico" />

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[&quot;json&quot;,&quot;c++&quot;,&quot;javascript&quot;,&quot;python&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-20378f63.svg" class="logo" alt="" />
        <div class="lang-selector">
              <a href="#" data-language-name="json">json</a>
              <a href="#" data-language-name="c++">c++</a>
              <a href="#" data-language-name="javascript">javascript</a>
              <a href="#" data-language-name="python">python</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#api-key-management" class="toc-h1 toc-link" data-title="API Key Management">API Key Management</a>
          </li>
          <li>
            <a href="#change-log" class="toc-h1 toc-link" data-title="Change Log">Change Log</a>
          </li>
          <li>
            <a href="#rate-limit" class="toc-h1 toc-link" data-title="Rate Limit">Rate Limit</a>
          </li>
          <li>
            <a href="#websocket-api" class="toc-h1 toc-link" data-title="Websocket API">Websocket API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#websocket-api-authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#websocket-api-session-keep-alive" class="toc-h2 toc-link" data-title="Session Keep Alive">Session Keep Alive</a>
                  </li>
                  <li>
                    <a href="#websocket-api-order-commands" class="toc-h2 toc-link" data-title="Order Commands">Order Commands</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#websocket-api-order-commands-limit-order" class="toc-h3 toc-link" data-title="Limit Order">Limit Order</a>
                          </li>
                          <li>
                            <a href="#websocket-api-order-commands-market-order" class="toc-h3 toc-link" data-title="Market Order">Market Order</a>
                          </li>
                          <li>
                            <a href="#websocket-api-order-commands-stop-limit-order" class="toc-h3 toc-link" data-title="Stop Limit Order">Stop Limit Order</a>
                          </li>
                          <li>
                            <a href="#websocket-api-order-commands-place-batch-orders" class="toc-h3 toc-link" data-title="Place Batch Orders">Place Batch Orders</a>
                          </li>
                          <li>
                            <a href="#websocket-api-order-commands-cancel-order" class="toc-h3 toc-link" data-title="Cancel Order">Cancel Order</a>
                          </li>
                          <li>
                            <a href="#websocket-api-order-commands-cancel-batch-order" class="toc-h3 toc-link" data-title="Cancel Batch Order">Cancel Batch Order</a>
                          </li>
                          <li>
                            <a href="#websocket-api-order-commands-modify-order" class="toc-h3 toc-link" data-title="Modify Order">Modify Order</a>
                          </li>
                          <li>
                            <a href="#websocket-api-order-commands-modify-batch-orders" class="toc-h3 toc-link" data-title="Modify Batch Orders">Modify Batch Orders</a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#websocket-api-error-codes" class="toc-h2 toc-link" data-title="Error Codes">Error Codes</a>
                  </li>
                  <li>
                    <a href="#websocket-api-subscriptions-private" class="toc-h2 toc-link" data-title="Subscriptions - Private">Subscriptions - Private</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#websocket-api-subscriptions-private-balance-channel" class="toc-h3 toc-link" data-title="Balance Channel">Balance Channel</a>
                          </li>
                          <li>
                            <a href="#websocket-api-subscriptions-private-position-channel" class="toc-h3 toc-link" data-title="Position Channel">Position Channel</a>
                          </li>
                          <li>
                            <a href="#websocket-api-subscriptions-private-order-channel" class="toc-h3 toc-link" data-title="Order Channel">Order Channel</a>
                              <ul class="toc-list-h4">
                                  <li>
                                    <a href="#websocket-api-subscriptions-private-order-channel-orderopened" class="toc-h4 toc-link" data-title="OrderOpened">OrderOpened</a>
                                  </li>
                                  <li>
                                    <a href="#websocket-api-subscriptions-private-order-channel-orderclosed" class="toc-h4 toc-link" data-title="OrderClosed">OrderClosed</a>
                                  </li>
                                  <li>
                                    <a href="#websocket-api-subscriptions-private-order-channel-ordermodified" class="toc-h4 toc-link" data-title="OrderModified">OrderModified</a>
                                  </li>
                                  <li>
                                    <a href="#websocket-api-subscriptions-private-order-channel-ordermatched" class="toc-h4 toc-link" data-title="OrderMatched">OrderMatched</a>
                                  </li>
                              </ul>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#websocket-api-subscriptions-public" class="toc-h2 toc-link" data-title="Subscriptions - Public">Subscriptions - Public</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#websocket-api-subscriptions-public-orderbook-depth" class="toc-h3 toc-link" data-title="Orderbook Depth">Orderbook Depth</a>
                          </li>
                          <li>
                            <a href="#websocket-api-subscriptions-public-trade" class="toc-h3 toc-link" data-title="Trade">Trade</a>
                          </li>
                          <li>
                            <a href="#websocket-api-subscriptions-public-ticker" class="toc-h3 toc-link" data-title="Ticker">Ticker</a>
                          </li>
                          <li>
                            <a href="#websocket-api-subscriptions-public-candles" class="toc-h3 toc-link" data-title="Candles">Candles</a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rest-api" class="toc-h1 toc-link" data-title="REST API">REST API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#rest-api-authentication" class="toc-h2 toc-link" data-title="Authentication">Authentication</a>
                  </li>
                  <li>
                    <a href="#rest-api-methods-private" class="toc-h2 toc-link" data-title="Methods - Private">Methods - Private</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-methods-private-get-v2-accountinfo" class="toc-h3 toc-link" data-title="GET <code>/v2/accountinfo</code>">GET <code>/v2/accountinfo</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-balances" class="toc-h3 toc-link" data-title="GET <code>/v2/balances</code>">GET <code>/v2/balances</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-balances-lt-instrumentid-gt" class="toc-h3 toc-link" data-title="GET <code>/v2/balances/&lt;instrumentId&gt;</code>">GET <code>/v2/balances/&lt;instrumentId&gt;</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-positions" class="toc-h3 toc-link" data-title="GET  <code>/v2/positions</code>">GET  <code>/v2/positions</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-positions-lt-instrumentid-gt" class="toc-h3 toc-link" data-title="GET  <code>/v2/positions/&lt;instrumentId&gt;</code>">GET  <code>/v2/positions/&lt;instrumentId&gt;</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-trades-marketcode" class="toc-h3 toc-link" data-title="GET <code>/v2/trades/{marketCode}</code>">GET <code>/v2/trades/{marketCode}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-orders" class="toc-h3 toc-link" data-title="GET  <code>/v2/orders</code>">GET  <code>/v2/orders</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-delete-v2-cancel-orders" class="toc-h3 toc-link" data-title="DELETE <code>/v2/cancel/orders</code>">DELETE <code>/v2/cancel/orders</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-delete-v2-cancel-orders-marketcode" class="toc-h3 toc-link" data-title="DELETE <code>/v2/cancel/orders/{marketCode}</code>">DELETE <code>/v2/cancel/orders/{marketCode}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-1-delivery-orders" class="toc-h3 toc-link" data-title="GET <code>/v2.1/delivery/orders</code>">GET <code>/v2.1/delivery/orders</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-post-v2-1-delivery-orders" class="toc-h3 toc-link" data-title="POST <code>/v2.1/delivery/orders</code>">POST <code>/v2.1/delivery/orders</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-delete-v2-1-delivery-orders-deliveryorderid" class="toc-h3 toc-link" data-title="DELETE <code>/v2.1/delivery/orders/{deliveryOrderId}</code>">DELETE <code>/v2.1/delivery/orders/{deliveryOrderId}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-private-get-v2-1-deliver-auction-instrumentid" class="toc-h3 toc-link" data-title="GET <code>/v2.1/deliver-auction/{instrumentId}</code>">GET <code>/v2.1/deliver-auction/{instrumentId}</code></a>
                          </li>
                      </ul>
                  </li>
                  <li>
                    <a href="#rest-api-methods-public" class="toc-h2 toc-link" data-title="Methods - Public">Methods - Public</a>
                      <ul class="toc-list-h3">
                          <li>
                            <a href="#rest-api-methods-public-get-v2-all-markets" class="toc-h3 toc-link" data-title="GET <code>/v2/all/markets</code>">GET <code>/v2/all/markets</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-public-get-v2-all-assets" class="toc-h3 toc-link" data-title="GET <code>/v2/all/assets</code>">GET <code>/v2/all/assets</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-public-get-v2-publictrades-marketcode" class="toc-h3 toc-link" data-title="GET <code>/v2/publictrades/{marketCode}</code>">GET <code>/v2/publictrades/{marketCode}</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-public-get-v2-ticker" class="toc-h3 toc-link" data-title="GET <code>/v2/ticker</code>">GET <code>/v2/ticker</code></a>
                          </li>
                          <li>
                            <a href="#rest-api-methods-public-get-v2-delivery-public-funding" class="toc-h3 toc-link" data-title="GET <code>/v2/delivery/public/funding</code>">GET <code>/v2/delivery/public/funding</code></a>
                          </li>
                      </ul>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a href='https://coinflex.com/user-console/register'>Sign Up for a Developer Key</a></li>
            <li><a href='https://github.com/slatedocs/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to CoinFLEX&#39;s v2 application programming interface (API). CoinFLEX&#39;s APIs provide clients programmatic access to control aspects of their accounts and to place orders on CoinFLEX&#39;s trading platform. CoinFLEX supports the following types of APIs:</p>

<ul>
<li>a WebSocket API</li>
<li>a REST API</li>
</ul>

<p>Using these interfaces it is possible to place both authenticated and unauthenticated API commands for public and prvate commands respectively.</p>

<p>To get started please register for a TEST account at <code>https://v2stg.coinflex.com/user-console/register</code></p>
<h1 id='api-key-management'>API Key Management</h1>
<p>An API key is required to make an authenticated API command.  API keys (public and corresponding secret key) can be generated via the CoinFLEX GUI within a clients account. </p>

<p>By default, API Keys are read-only and can only read basic account information, such as positions, orders, and trades. They cannot be used to trade such as placing, modifying or cancelling orders.</p>

<p>If you wish to execute orders with your API Key, clients must select the <code>Can Trade</code> permission upon API key creation.</p>

<p>API keys are also only bound to a single sub-account, defined upon creation. This means that an API key will only ever interact and return account information for a single sub-account.</p>
<h1 id='change-log'>Change Log</h1>
<p><strong>2020-12-14</strong></p>

<ul>
<li>Added new websocket API Place Batch Orders command</li>
<li>Added new websocket API Cancel Batch Orders command</li>
<li>Added new websocket API Modify Batch Orders command</li>
</ul>

<p><strong>2020-12-10</strong></p>

<ul>
<li>Added market order and stop-limit order websocket API details</li>
</ul>

<p><strong>2020-09-25</strong></p>

<ul>
<li>Added physical delivery API endpoints</li>
<li>Added position WebSocket channel</li>
<li>Added balance WebSocket channel</li>
<li>Added GET /v2/accountinfo</li>
<li>Added GET /v2/ticker</li>
<li>Added rate limits</li>
<li>Added guidance for maintaining connections</li>
</ul>

<p><strong>2020-07-25</strong></p>

<ul>
<li>Added GET /v2/publictrades/{marketCode}</li>
<li>Added GET /v2/trades/{marketCode}</li>
</ul>

<p><strong>2020-06-16</strong></p>

<ul>
<li>Added general guidance for getting a login/password to create tokens</li>
<li>Updated some addresses for REST API</li>
</ul>

<p><strong>2020-06-15</strong></p>

<ul>
<li>First beta version of API endpoints. Websocket and REST</li>
</ul>
<h1 id='rate-limit'>Rate Limit</h1>
<p>CoinFLEX&#39;s APIs allows our clients to access and control their accounts or view our market data using custom-written software. To protect the performance of the system, we impose certain limits:</p>

<table><thead>
<tr>
<th>Type</th>
<th>Limit</th>
</tr>
</thead><tbody>
<tr>
<td>Rest API</td>
<td>100 per second</td>
</tr>
<tr>
<td>Websocket API</td>
<td>200 per second</td>
</tr>
</tbody></table>
<h1 id='websocket-api'>Websocket API</h1>
<blockquote>
<p><strong>Subscription request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"&lt;value1&gt;"</span><span class="p">,</span><span class="w"> </span><span class="s2">"&lt;value2&gt;"</span><span class="p">,</span><span class="err">.....</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Subscription success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;opValue&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;argsValue&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491945368"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Subscription failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;opValue&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592498745368"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Command request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"&lt;key1&gt;"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value1&gt;"</span><span class="p">,</span><span class="err">.....</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Command success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;opValue&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592498745368"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"&lt;key1&gt;"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value1&gt;"</span><span class="p">,</span><span class="err">.....</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Command failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;opValue&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;codeCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592498745368"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nl">"&lt;key1&gt;"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value1&gt;"</span><span class="p">,</span><span class="err">.....</span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>TEST</strong> site</p>

<ul>
<li><code>wss://v2stgapi.coinflex.com/v2/websocket</code></li>
</ul>

<p><strong>LIVE</strong> site</p>

<ul>
<li><code>wss://v2api.coinflex.com/v2/websocket</code></li>
</ul>

<p>CoinFLEX&#39;s application programming interface (API) provides our clients programmatic access to control aspects of their accounts and to place orders on the CoinFLEX trading platform. The API is accessible via WebSocket connection to the URIs listed above. Commands, replies, and notifications all traverse the WebSocket in text frames with JSON-formatted payloads.</p>

<p>Websocket commands can be sent in either of the following two formats:</p>

<p><strong>For subscription based requests</strong></p>

<p><code>{&quot;op&quot;: &quot;&lt;value&gt;&quot;, &quot;args&quot;: [&quot;&lt;value1&gt;&quot;, &quot;&lt;value2&gt;&quot;,.....]}</code></p>

<p><code>op</code>: can either be:</p>

<ul>
<li>subscribe</li>
<li>unsubscribe</li>
</ul>

<p><code>args</code>: the value(s) will be the instrument ID(s) or asset ID(s), for example:</p>

<ul>
<li>order:BTC-USD-SWAP-LIN</li>
<li>futures/depth:ETH-USD-REPO-LIN</li>
<li>position:all</li>
</ul>

<p><strong>All other commands</strong></p>

<p><code>{&quot;op&quot;: &quot;&lt;command&gt;&quot;, &quot;data&quot;: {&quot;&lt;key1&gt;&quot;:&quot;&lt;value1&gt;&quot;,.....}}</code></p>

<p><code>op</code>: can be:</p>

<ul>
<li>login</li>
<li>placeorder</li>
<li>cancelorder</li>
<li>modifyorder</li>
</ul>

<p><code>data</code>: JSON string of the request object containing the required parameters</p>

<p>Further information regarding the error codes and corresponding error messages from a failed subscription or order command request can be found in a later section of this documentation <a href="#websocket-api-error-codes">Error Codes</a>.</p>
<h2 id='websocket-api-authentication'>Authentication</h2>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"login"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"apiKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;string&gt;"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;string&gt;"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"signature"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;string&gt;"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">websockets</span>
<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">import</span> <span class="nn">time</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">json</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="s">'API-KEY'</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="s">'API-SECRET'</span>
<span class="n">ts</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="nb">int</span><span class="p">(</span><span class="n">time</span><span class="p">.</span><span class="n">time</span><span class="p">()</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">))</span>
<span class="n">sig_payload</span> <span class="o">=</span> <span class="p">(</span><span class="n">ts</span><span class="o">+</span><span class="s">'GET/auth/self/verify'</span><span class="p">).</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>
<span class="n">signature</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">sig_payload</span><span class="p">,</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">msg_auth</span> <span class="o">=</span> \
<span class="p">{</span>
  <span class="s">"op"</span><span class="p">:</span> <span class="s">"login"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s">"data"</span><span class="p">:</span> <span class="p">{</span>
           <span class="s">"apiKey"</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
           <span class="s">"timestamp"</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span>
           <span class="s">"signature"</span><span class="p">:</span> <span class="n">signature</span>
          <span class="p">}</span>
<span class="p">}</span>

<span class="k">async</span> <span class="k">def</span> <span class="nf">subscribe</span><span class="p">():</span>
    <span class="k">async</span> <span class="k">with</span> <span class="n">websockets</span><span class="p">.</span><span class="n">connect</span><span class="p">(</span><span class="s">'wss://v2stgapi.coinflex.com/v2/websocket'</span><span class="p">)</span> <span class="k">as</span> <span class="n">ws</span><span class="p">:</span>
        <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">send</span><span class="p">(</span><span class="n">json</span><span class="p">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">msg_auth</span><span class="p">))</span>
        <span class="k">while</span> <span class="n">ws</span><span class="p">.</span><span class="nb">open</span><span class="p">:</span>
            <span class="n">resp</span> <span class="o">=</span> <span class="k">await</span> <span class="n">ws</span><span class="p">.</span><span class="n">recv</span><span class="p">()</span>
            <span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">)</span>

<span class="n">asyncio</span><span class="p">.</span><span class="n">get_event_loop</span><span class="p">().</span><span class="n">run_until_complete</span><span class="p">(</span><span class="n">subscribe</span><span class="p">())</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">var</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">API-KEY</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">var</span> <span class="nx">secretKey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">API-SECRET</span><span class="dl">"</span><span class="p">;</span>
<span class="kd">const</span> <span class="nx">ts</span> <span class="o">=</span> <span class="dl">''</span> <span class="o">+</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>

<span class="kd">var</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">enc</span><span class="p">.</span><span class="nx">Base64</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">CryptoJS</span><span class="p">.</span><span class="nx">HmacSHA256</span><span class="p">(</span><span class="nx">secretKey</span><span class="p">,</span> <span class="nx">ts</span> <span class="o">+</span><span class="dl">'</span><span class="s1">GET/auth/self/verify</span><span class="dl">'</span><span class="p">));</span>
<span class="kd">var</span> <span class="nx">msg</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">{"op":"login","data":{"apiKey":"</span><span class="dl">'</span> <span class="o">+</span> <span class="nx">apiKey</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">", "timestamp": "</span><span class="dl">'</span><span class="o">+</span> <span class="nx">ts</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">", "signature":"</span><span class="dl">'</span><span class="o">+</span> <span class="nx">sign</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">"}}</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">var</span> <span class="nx">ws</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">WebSocket</span><span class="p">(</span><span class="dl">'</span><span class="s1">wss://v2stgapi.coinflex.com/v2/websocket</span><span class="dl">'</span><span class="p">);</span>

<span class="nx">ws</span><span class="p">.</span><span class="nx">onmessage</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">websocket message from server : </span><span class="dl">'</span><span class="p">,</span> <span class="nx">e</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
<span class="p">};</span>

<span class="nx">ws</span><span class="p">.</span><span class="nx">onopen</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="nx">ws</span><span class="p">.</span><span class="nx">send</span><span class="p">(</span><span class="nx">msg</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"login"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;value&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491803978"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="p">{</span>
  <span class="s">"event"</span><span class="p">:</span> <span class="s">"login"</span><span class="p">,</span>
  <span class="s">"success"</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
  <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1592491808328"</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">event</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">login</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">success</span><span class="dl">"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">tag</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1592491808329</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"login"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592492069732"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><div class="highlight"><pre class="highlight python tab-python"><code><span class="p">{</span>
  <span class="s">"event"</span><span class="p">:</span> <span class="s">"login"</span><span class="p">,</span>
  <span class="s">"success"</span><span class="p">:</span> <span class="n">false</span><span class="p">,</span>
  <span class="s">"code"</span><span class="p">:</span> <span class="s">"&lt;errorCode&gt;"</span><span class="p">,</span>
  <span class="s">"message"</span><span class="p">:</span> <span class="s">"&lt;errorMessage&gt;"</span><span class="p">,</span>
  <span class="s">"tag"</span><span class="p">:</span> <span class="s">"1"</span><span class="p">,</span>
  <span class="s">"timestamp"</span><span class="p">:</span> <span class="s">"1592492031972"</span>
<span class="p">}</span>
</code></pre></div><div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="dl">"</span><span class="s2">event</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">login</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">success</span><span class="dl">"</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">code</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">&lt;errorCode&gt;</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">message</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">&lt;errorMessage&gt;</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">tag</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1</span><span class="dl">"</span><span class="p">,</span>
  <span class="dl">"</span><span class="s2">timestamp</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1592492031982</span><span class="dl">"</span>
<span class="p">}</span>
</code></pre></div>
<p>The Websocket API consists of public and private methods. The public methods do not require authentication.  The private methods requires an authenticated websocket connection.</p>

<p>To autenticate a websocket connection a &quot;login&quot; message must be sent containing the clients signature.</p>

<p>To construct the signature a clients API-Secret key is required.  API keys (public and corresponding secret key) can be generated via the GUI within the clients account.</p>

<p>The signature is calculated as:</p>

<ul>
<li><code>Base64(HmacSHA256(API-Secret, timestamp + &#39;GET/auth/self/verify&#39;))</code></li>
</ul>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><strong>&#39;login&#39;</strong></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER</td>
<td>No</td>
<td>If given, it will be echoed in the reply</td>
</tr>
<tr>
<td>data</td>
<td>ARRAY object</td>
<td>Yes</td>
<td></td>
</tr>
<tr>
<td>&gt;apiKey</td>
<td>STRING</td>
<td>Yes</td>
<td>Clients public API key, visible in the GUI when created</td>
</tr>
<tr>
<td>&gt;timestamp</td>
<td>STRING</td>
<td>Yes</td>
<td>Current millisecond timestamp</td>
</tr>
<tr>
<td>&gt;signature</td>
<td>STRING</td>
<td>Yes</td>
<td><code>Base64(HmacSHA256(API-Secret, timestamp + &#39;GET/auth/self/verify&#39;))</code></td>
</tr>
</tbody></table>
<h2 id='websocket-api-session-keep-alive'>Session Keep Alive</h2>
<p>To maintain an active WebSocket connection it is imperative to either be subscribed to a channel that pushes data at least once per minute (Depth or Balance) or send a ping to the server once per minute.</p>
<h2 id='websocket-api-order-commands'>Order Commands</h2><h3 id='websocket-api-order-commands-limit-order'>Limit Order</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.5</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">9431.48</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491945248"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9431.48"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491945248"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.5"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9431.48"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires an authenticated websocket connection.<br>
Please also subscribe to the <strong>User Order Channel</strong> to receive push notifications for all message updates in relation to an account or sub-account (e.g. OrderOpened, OrderMatched etc......).</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>placeorder</code></td>
</tr>
<tr>
<td>clientOrderId</td>
<td>INTEGER</td>
<td>No</td>
<td>Client assigned ID to help manage and identify orders</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Yes</td>
<td>Market code e.g. <code>BTC-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td>Yes</td>
<td><code>LIMIT</code></td>
</tr>
<tr>
<td>price</td>
<td>DECIMAL</td>
<td>No</td>
<td>Price</td>
</tr>
<tr>
<td>quantity</td>
<td>DECIMAL</td>
<td>Yes</td>
<td>Quantity (denominated by contractValCurrency)</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>Yes</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>timeInForce</td>
<td>ENUM</td>
<td>No</td>
<td><ul><li><code>GTC</code> (Good-till-Cancel) - Default</li><li> <code>IOC</code> (Immediate or Cancel, i.e. Taker-only)</li><li> <code>FOK</code> (Fill or Kill, for full size)</li><li><code>MAKER_ONLY</code> (i.e. Post-only)</li><li> <code>MAKER_ONLY_REPRICE</code> (Reprices order to the best maker only price if the specified price were to lead to a taker trade)</li></ul></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER</td>
<td>No</td>
<td>If given and non-zero, it will be echoed in the reply</td>
</tr>
</tbody></table>
<h3 id='websocket-api-order-commands-market-order'>Market Order</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491945248"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491503359"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires an authenticated websocket connection.<br>
Please also subscribe to the <strong>User Order Channel</strong> to receive push notifications for all message updates in relation to an account or sub-account (e.g. OrderOpened, OrderMatched etc......).</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>placeorder</code></td>
</tr>
<tr>
<td>clientOrderId</td>
<td>INTEGER</td>
<td>No</td>
<td>Client assigned ID to help manage and identify orders</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Yes</td>
<td>Market code e.g. <code>BTC-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td>Yes</td>
<td><code>MARKET</code></td>
</tr>
<tr>
<td>quantity</td>
<td>DECIMAL</td>
<td>Yes</td>
<td>Quantity (denominated by contractValCurrency)</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>Yes</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER</td>
<td>No</td>
<td>If given and non-zero, it will be echoed in the reply</td>
</tr>
</tbody></table>
<h3 id='websocket-api-order-commands-stop-limit-order'>Stop Limit Order</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STOP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER_ONLY_REPRICE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
            </span><span class="nl">"limitPrice"</span><span class="p">:</span><span class="w"> </span><span class="mi">120</span><span class="w">
         </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607639739098"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STOP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER_ONLY_REPRICE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"limitPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"120"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491503359"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STOP"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER_ONLY_REPRICE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"limitPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"120"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires an authenticated websocket connection.<br>
Please also subscribe to the <strong>User Order Channel</strong> to receive push notifications for all message updates in relation to an account or sub-account (e.g. OrderOpened, OrderMatched etc......).</p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>placeorder</code></td>
</tr>
<tr>
<td>clientOrderId</td>
<td>INTEGER</td>
<td>No</td>
<td>Client assigned ID to help manage and identify orders</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Yes</td>
<td>Market code e.g. <code>ETH-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td>Yes</td>
<td><code>STOP</code> for stop-limit orders (stop-market orders not supported)</td>
</tr>
<tr>
<td>quantity</td>
<td>DECIMAL</td>
<td>Yes</td>
<td>Quantity (denominated by contractValCurrency)</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>Yes</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>limitPrice</td>
<td>DECIMAL</td>
<td>Yes</td>
<td>Limit price for the stop-limit order. <p><p>For <strong>BUY</strong> the limit price must be greater or equal to the stop price.<p><p>For <strong>SELL</strong> the limit price must be less or equal to the stop price.</td>
</tr>
<tr>
<td>stopPrice</td>
<td>DECIMAL</td>
<td>Yes</td>
<td>Stop price for the stop-limit order.<p><p>Triggered by the best bid price for the <strong>SELL</strong> stop-limit order.<p><p>Triggered by the best ask price for the <strong>BUY</strong> stop-limit order.</td>
</tr>
<tr>
<td>timeInForce</td>
<td>ENUM</td>
<td>No</td>
<td><ul><li><code>GTC</code> (Good-till-Cancel) - Default</li><li> <code>IOC</code> (Immediate or Cancel, i.e. Taker-only)</li><li> <code>FOK</code> (Fill or Kill, for full size)</li><li><code>MAKER_ONLY</code> (i.e. Post-only)</li><li> <code>MAKER_ONLY_REPRICE</code> (Reprices order to the best maker only price if the specified price were to lead to a taker trade)</li></ul></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER</td>
<td>No</td>
<td>If given and non-zero, it will be echoed in the reply</td>
</tr>
</tbody></table>
<h3 id='websocket-api-order-commands-place-batch-orders'>Place Batch Orders</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorders"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="nl">"dataArray"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                  </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER_ONLY"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2</span><span class="w">
                </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607639739098"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER_ONLY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">AND</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607639739136"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491503359"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER_ONLY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">AND</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491503457"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MARKET"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.2"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires an authenticated websocket connection.<br>
Please also subscribe to the <strong>User Order Channel</strong> to receive push notifications for all message updates in relation to an account or sub-account (e.g. OrderOpened, OrderMatched etc......).</p>

<p>All existing single order placement methods are supported:-</p>

<ul>
<li>LIMIT</li>
<li>MARKET</li>
<li>STOP</li>
</ul>

<p>The websocket reply from the exchange will repond to each order in the batch separately, one order at a time, and has the same message format as the reponse for the single order placement method.</p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>placeorders</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER</td>
<td>No</td>
<td>If given and non-zero, it will be echoed in the reply</td>
</tr>
<tr>
<td>dataArray</td>
<td>ARRAY Object</td>
<td>Yes</td>
<td>An array of orders with each order in JSON format, the same format as the method for placing single orders.  The max number of orders is still limited by the message length validation so by default up to 20 orders can be placed in a batch, assuming that each order JSON has 200 characters.</td>
</tr>
</tbody></table>
<h3 id='websocket-api-order-commands-cancel-order'>Cancel Order</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491173964"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491173964"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires an authenticated websocket connection.<br>
Please also subscribe to the <strong>User Order Channel</strong> to receive push notifications for all message updates in relation to an account or sub-account (e.g. OrderClosed etc......).</p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>cancelorder</code></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Yes</td>
<td>Market code e.g. <code>BTC-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>orderId</td>
<td>INTEGER</td>
<td>Yes</td>
<td>Unique order ID from the exchange</td>
</tr>
</tbody></table>
<h3 id='websocket-api-order-commands-cancel-batch-order'>Cancel Batch Order</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelorders"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span><span class="w">
  </span><span class="nl">"dataArray"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                  </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">12</span><span class="w">
                </span><span class="p">},</span><span class="w">
                </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH-USD"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">34</span><span class="w">
                </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491173964"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">AND</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491173978"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"34"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491173964"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">AND</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"456"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491173989"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BCH-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires an authenticated websocket connection.<br>
Please also subscribe to the <strong>User Order Channel</strong> to receive push notifications for all message updates in relation to an account or sub-account (e.g. OrderClosed etc......).</p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>cancelorders</code></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Yes</td>
<td>Market code e.g. <code>BTC-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>orderId</td>
<td>INTEGER</td>
<td>Yes</td>
<td>Unique order ID from the exchange</td>
</tr>
</tbody></table>
<h3 id='websocket-api-order-commands-modify-order'>Modify Order</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modifyorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">888</span><span class="p">,</span><span class="w">
          </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">9800</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
         </span><span class="p">},</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modifyorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491032427"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:{</span><span class="w">
          </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">888</span><span class="p">,</span><span class="w">
          </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">9800</span><span class="p">,</span><span class="w">
          </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="w">
         </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modifyorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491032427"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="mi">888</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">9800</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires an authenticated websocket connection.<br>
Please also subscribe to the <strong>User Order Channel</strong> to receive push notifications for all message updates in relation to an account or sub-account (e.g. OrderModified etc......).</p>

<p>Currently only LIMIT orders are supported by the modify order command.</p>

<ul>
<li>The price and/or quantity and/or side of an order can be modified.</li>
<li>Reducing the quantity will leave the modified orders position in the order queue <strong>unchanged</strong>.</li>
<li>Increasing the quantity will <strong>always</strong> move the modified order to the back of the order queue.</li>
<li>Modifying the price will <strong>always</strong> move the modified order to the back of the order queue.</li>
<li>Modifying the side will <strong>always</strong> move the modified order to the back of the order queue.</li>
</ul>

<p>Please be aware that modifying the side of an existing GTC LIMIT order from BUY to SELL or vice versa <strong>without</strong> modifying the price could result in the order matching immediately since its quite likely the new order will become an agressing taker order.  </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>modifyorder</code></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Yes</td>
<td>Market code e.g. <code>BTC-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>orderId</td>
<td>INTEGER</td>
<td>Yes</td>
<td>Unique order ID from the exchange</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>No</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>price</td>
<td>DECIMAL</td>
<td>No</td>
<td>Price for limit orders</td>
</tr>
<tr>
<td>quantity</td>
<td>DECIMAL</td>
<td>No</td>
<td>Quantity (denominated by <code>contractValCurrency</code>)</td>
</tr>
</tbody></table>
<h3 id='websocket-api-order-commands-modify-batch-orders'>Modify Batch Orders</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modifyorders"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span><span class="w">
  </span><span class="nl">"dataArray"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
                  </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="mi">304304315061932310</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
                </span><span class="p">},</span><span class="w"> 
                </span><span class="p">{</span><span class="w">
                  </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="mi">304304315061864646</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10001</span><span class="p">,</span><span class="w">
                  </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.21</span><span class="w">
                </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modifyorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607639739098"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"304304315061932310"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">AND</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"modifyorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607639739136"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"304304315061864646"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.21</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="w">
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491503359"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="mi">304304315061932310</span><span class="p">,</span><span class="w">
            </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="w">                 
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">AND</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"placeorder"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"submitted"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592491503457"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="nl">"orderID"</span><span class="p">:</span><span class="w"> </span><span class="mi">304304315061864646</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.21</span><span class="p">,</span><span class="w">
            </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10001</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="w">  
          </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires an authenticated websocket connection.<br>
Please also subscribe to the <strong>User Order Channel</strong> to receive push notifications for all message updates in relation to an account or sub-account (e.g. OrderOpened, OrderMatched etc......).</p>

<p>The websocket reply from the exchange will repond to each order in the batch separately, one order at a time, and has the same message format as the reponse for the single order modify method.</p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>modifyorders</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER</td>
<td>No</td>
<td>If given and non-zero, it will be echoed in the reply</td>
</tr>
<tr>
<td>dataArray</td>
<td>ARRAY Object</td>
<td>Yes</td>
<td>An array of orders with each order in JSON format, the same format as the method for modifying single orders.  The max number of orders is still limited by the message length validation so by default up to 20 orders can be modified in a batch, assuming that each order JSON has 200 characters.</td>
</tr>
</tbody></table>
<h2 id='websocket-api-error-codes'>Error Codes</h2>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;opValue&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorCode&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Both subscription and order command requests sent via websocket can be rejected and the failure response will return an error code and a corresponding error message explaining the reason for the rejection.</p>

<table><thead>
<tr>
<th>Code</th>
<th>Error Message</th>
</tr>
</thead><tbody>
<tr>
<td>05001</td>
<td>Your operation authority is invalid</td>
</tr>
<tr>
<td>20000</td>
<td>Signature is invalid</td>
</tr>
<tr>
<td>20001</td>
<td>Operation failed, please contact system administrator</td>
</tr>
<tr>
<td>20002</td>
<td>Unexpected error, please check if your request data complies with the specification.</td>
</tr>
<tr>
<td>20003</td>
<td>Unrecognized operation</td>
</tr>
<tr>
<td>20005</td>
<td>Already logged in</td>
</tr>
<tr>
<td>20006</td>
<td>Quantity must be greater than zero</td>
</tr>
<tr>
<td>20007</td>
<td>You are accessing server too rapidly</td>
</tr>
<tr>
<td>20008</td>
<td>clientOrderId must be greater than zero if provided</td>
</tr>
<tr>
<td>20009</td>
<td>JSON data format is invalid</td>
</tr>
<tr>
<td>20010</td>
<td>Either clientOrderId or orderId is required</td>
</tr>
<tr>
<td>20011</td>
<td>marketCode is required</td>
</tr>
<tr>
<td>20012</td>
<td>side is required</td>
</tr>
<tr>
<td>20013</td>
<td>orderType is required</td>
</tr>
<tr>
<td>20014</td>
<td>clientOrderId is not long type</td>
</tr>
<tr>
<td>20015</td>
<td>marketCode is invalid</td>
</tr>
<tr>
<td>20016</td>
<td>side is invalid</td>
</tr>
<tr>
<td>20017</td>
<td>orderType is invalid</td>
</tr>
<tr>
<td>20018</td>
<td>timeInForce is invalid</td>
</tr>
<tr>
<td>20019</td>
<td>orderId is invalid</td>
</tr>
<tr>
<td>20020</td>
<td>stopPrice or limitPrice is invalid</td>
</tr>
<tr>
<td>20021</td>
<td>price is invalid</td>
</tr>
<tr>
<td>20022</td>
<td>price is required for LIMIT order</td>
</tr>
<tr>
<td>20023</td>
<td>timestamp is required</td>
</tr>
<tr>
<td>20024</td>
<td>timestamp exceeds the threshold</td>
</tr>
<tr>
<td>20025</td>
<td>API key is invalid</td>
</tr>
<tr>
<td>20026</td>
<td>Token is invalid or expired</td>
</tr>
<tr>
<td>20027</td>
<td>The length of the message exceeds the maximum length</td>
</tr>
<tr>
<td>20028</td>
<td>price or stopPrice or limitPrice must be greater than zero</td>
</tr>
<tr>
<td>20029</td>
<td>stopPrice must be less than limitPrice for Buy Stop Order</td>
</tr>
<tr>
<td>20030</td>
<td>limitPrice must be less than stopPrice for Sell Stop Order</td>
</tr>
<tr>
<td>100005</td>
<td>Open order not found with id</td>
</tr>
<tr>
<td>100006</td>
<td>Open order does not match to the given account</td>
</tr>
<tr>
<td>200050</td>
<td>The market is not active</td>
</tr>
<tr>
<td>710002</td>
<td>FAILED sanity bound check as price (.....) &lt; lower bound (.....)</td>
</tr>
<tr>
<td>710003</td>
<td>FAILED sanity bound check as price (.....) &gt; upper bound (.....)</td>
</tr>
<tr>
<td>710004</td>
<td>FAILED net position check as position (.....) &gt; threshold (.....)</td>
</tr>
<tr>
<td>710005</td>
<td>FAILED margin check as collateral (.....) &lt; var (.....)</td>
</tr>
<tr>
<td>710006</td>
<td>FAILED balance check as balance (.....) &lt; value (.....)</td>
</tr>
</tbody></table>
<h2 id='websocket-api-subscriptions-private'>Subscriptions - Private</h2>
<p>All subscriptions to private account channels requires an authenticated websocket connection.  </p>

<p>Multiple subscriptions to different channels both public and private can be made within a single subscription command: </p>

<p><code>{&quot;op&quot;: &quot;subscribe&quot;, &quot;args&quot;: [&quot;&lt;value1&gt;&quot;, &quot;&lt;value2&gt;&quot;,.....]}</code></p>
<h3 id='websocket-api-subscriptions-private-balance-channel'>Balance Channel</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"balance:all"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">OR</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"balance:USD"</span><span class="p">,</span><span class="w"> </span><span class="s2">"balance:FLEX"</span><span class="p">,</span><span class="w"> </span><span class="err">........</span><span class="p">],</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"101"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;args value&gt;"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607985371401"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Balance channel format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balance"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your account ID&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1599693365059"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tradeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Linear"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"reserved"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantityLastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1599694369431"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"reserved"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantityLastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1599694343242"</span><span class="w">
            </span><span class="p">},</span><span class="w"> 
            </span><span class="err">........</span><span class="w">
          </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Channel Update Frequency</strong> : 250ms</p>

<p>The websocket will reply with the shown success response format for EACH balance asset channel which has been successfully subscribed to.</p>

<p>If a subscription has been made to balance:all, the data array in the message from this balance channel will contain a JSON <strong>list</strong>. Each JSON will contain balance details for each spot asset.  Otherwise the data array will contain a <strong>single</strong> JSON corresponding to one spot asset per asset channel subscription.</p>

<p><strong>Request Parameters</strong></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>subscribe</code></td>
</tr>
<tr>
<td>args</td>
<td>ARRAY</td>
<td>Yes</td>
<td><code>balance:all</code> or a list of individual assets <code>balance:&lt;assetId&gt;</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER</td>
<td>No</td>
<td>If given and non-zero, it will be echoed in the reply</td>
</tr>
</tbody></table>

<p><strong>Channel Update Parameters</strong></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>table</td>
<td>STRING</td>
<td><code>balance</code></td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account identifier</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Current millisecond timestamp</td>
</tr>
<tr>
<td>tradeType</td>
<td>STRING</td>
<td><code>LINEAR</code></td>
</tr>
<tr>
<td>total</td>
<td>STRING</td>
<td>Total spot asset balance</td>
</tr>
<tr>
<td>reserved</td>
<td>STRING</td>
<td>Reserved asset balance for working spot and repo orders</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Base asset ID e.g. <code>BTC</code></td>
</tr>
<tr>
<td>available</td>
<td>STRING</td>
<td>Remaining available asset balance (total - reserved)</td>
</tr>
<tr>
<td>quantityLastUpdated</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
</tbody></table>
<h3 id='websocket-api-subscriptions-private-position-channel'>Position Channel</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"position:all"</span><span class="p">],</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">102</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">OR</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"position:BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> </span><span class="s2">"position:BCH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> </span><span class="err">........</span><span class="p">],</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">102</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;args value&gt;"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607985371401"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Position channel format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"position"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your account ID&gt;"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607985371481"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1599693362699"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"contractValCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"1.5"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="p">{</span><span class="w">
              </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"205.1"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1599693362699"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"contractValCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"-0.5"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETH-USD-SWAP-LIN"</span><span class="w">
            </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Channel Update Frequency</strong> : real-time, on position update</p>

<p>The websocket will reply with the shown success response format for EACH position channel which has been successfully subscribed to.</p>

<p>If a subscription has been made to position:all, the data array in the message from this position channel will contain a JSON list. Each JSON will contain position details for instrument. Otherwise the data array will contain a single JSON corresponding to one instrument per position channel subscription.</p>

<p><strong>Request Parameters</strong></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>subscribe</code></td>
</tr>
<tr>
<td>args</td>
<td>ARRAY</td>
<td>Yes</td>
<td><code>position:all</code> or a list of individual instruments <code>position:&lt;instrumentId&gt;</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER</td>
<td>No</td>
<td>If given and non-zero, it will be echoed in the reply</td>
</tr>
</tbody></table>

<p><strong>Channel Update Parameters</strong></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>table</td>
<td>STRING</td>
<td><code>position</code></td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account identifier</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Current millisecond timestamp</td>
</tr>
<tr>
<td>entryPrice</td>
<td>STRING</td>
<td>Average entry price of total position (Cost / Size)</td>
</tr>
<tr>
<td>lastUpdated</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
<tr>
<td>contractValCurrency</td>
<td>STRING</td>
<td>Base asset ID e.g. <code>ETH</code></td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Position size (+/-)</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>e.g. <code>ETH-USD-SWAP-LIN</code></td>
</tr>
</tbody></table>
<h3 id='websocket-api-subscriptions-private-order-channel'>Order Channel</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"order:all"</span><span class="p">],</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">102</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="err">OR</span><span class="w">

</span><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"order:FLEX-USD"</span><span class="p">,</span><span class="w"> </span><span class="s2">"order:ETH-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> </span><span class="err">.....</span><span class="p">],</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">102</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"102"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;args value&gt;"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607985371401"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p><strong>Channel Update Frequency</strong> : real-time, on order update</p>

<p>The websocket will reply with the shown success response format for EACH order channel which has been successfully subscribed to.</p>

<p><strong>Request Parameters</strong></p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>op</td>
<td>STRING</td>
<td>Yes</td>
<td><code>subscribe</code></td>
</tr>
<tr>
<td>args</td>
<td>ARRAY</td>
<td>Yes</td>
<td><code>order:all</code> or a list of individual markets <code>order:&lt;marketCode&gt;</code></td>
</tr>
<tr>
<td>tag</td>
<td>INTEGER</td>
<td>No</td>
<td>If given and non-zero, it will be echoed in the reply</td>
</tr>
</tbody></table>
<h4 id='websocket-api-subscriptions-private-order-channel-orderopened'>OrderOpened</h4>
<blockquote>
<p><strong>OrderOpened message format - LIMIT order</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"notice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderOpened"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your account ID&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderId"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9600"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="w"> </span><span class="p">,</span><span class="w">
              </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER_ONLY"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594943491077"</span><span class="w">
              </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
            </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>OrderOpened message format - STOP order</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"notice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderOpened"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your account ID&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"17"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2245"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USDT-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"IOC"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594943491077"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9280"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"limitPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9300"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STOP"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w">
            </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>notice</td>
<td>STRING</td>
<td><code>OrderOpened</code></td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account identifier</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders</td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Unique order ID from the exchange</td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td>Limit price submitted (only applicable for LIMIT order types)</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Quantity submitted</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td>Order status</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code e.g. <code>FLEX-USD</code></td>
</tr>
<tr>
<td>timeInForce</td>
<td>STRING</td>
<td>Client submitted time in force, <code>GTC</code> by default</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Current millisecond timestamp</td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td><code>LIMIT</code> or <code>STOP</code></td>
</tr>
<tr>
<td>stopPrice</td>
<td>STRING</td>
<td>Stop price submitted (only applicable for STOP order types)</td>
</tr>
<tr>
<td>limitPrice</td>
<td>STRING</td>
<td>Limit price submitted (only applicable for STOP order types)</td>
</tr>
<tr>
<td>isTriggered</td>
<td>STRING</td>
<td><code>false</code> or <code>true</code></td>
</tr>
</tbody></table>
<h4 id='websocket-api-subscriptions-private-order-channel-orderclosed'>OrderClosed</h4>
<blockquote>
<p><strong>OrderClosed message format - LIMIT order</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"notice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderClosed"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your account ID&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"73"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9600"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Canceled status&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Time in force&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594943491077"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"remainQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.5"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w"> 
            </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>OrderClosed message format - STOP order</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"notice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderClosed"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your account ID&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"13"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELED_BY_USER"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Time in force&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594943491077"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"remainQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.5"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9100"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"limitPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9120"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"STOP"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"true"</span><span class="w"> 
            </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>There are multiple scenarios in which an order is closed as described by the <strong>status</strong> field in the OrderClosed message.  In summary orders can be closed by:-</p>

<ul>
<li><code>CANCELED_BY_USER</code> - the client themselves initiating this action or the liquidation engine on the clients behalf if the clients account is below the maintenance margin threshold</li>
<li><code>CANCELED_BY_MAKER_ONLY</code> - if a maker-only order is priced such that it would actually be an agressing taker trade, the order is automatically canceled to prevent this order from matching as a taker</li>
<li><code>CANCELED_BY_FOK</code> - since fill-or-kill orders requires <strong>all</strong> of the order quantity to immediately take and match at the submitted limit price or better, if no such match is possible then the whole order quantity is canceled</li>
<li><code>CANCELED_ALL_BY_IOC</code> - since immediate-or-cancel orders also requires an immediate match at the specified limit price or better, if no such match price is possible for <strong>any</strong> of the submitted order quantity then the whole order quantity is canceled</li>
<li><code>CANCELED_PARTIAL_BY_IOC</code> - since immediate-or-cancel orders only requires <strong>some</strong> of the submitted order quantity to immediately take and match at the specified limit price or better, if a match is possible for only a <strong>partial</strong> quantity then only the remaining order quantity which didn&#39;t immediately match is canceled</li>
<li><code>CANCELED_BY_AMEND</code> - if a <strong>Modify Order</strong> command updated an order such that it changed its position in the order queue, the original order would be closed and an OrderClosed notice would be broadcasted in the Order Channel with this status</li>
</ul>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>notice</td>
<td>STRING</td>
<td><code>OrderClosed</code></td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account identifier</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders</td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Unique order ID from the exchange</td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td>Limit price of closed order (only applicable for LIMIT order types)</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Original order quantity of closed order</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td><ul><li><code>CANCELED_BY_USER</code></li><li><code>CANCELED_BY_MAKER_ONLY</code></li><li><code>CANCELED_BY_FOK</code></li><li><code>CANCELED_ALL_BY_IOC</code></li><li><code>CANCELED_PARTIAL_BY_IOC</code></li><li><code>CANCELED_BY_AMEND</code></li></ul></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code e.g. <code>BTC-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>timeInForce</td>
<td>STRING</td>
<td>Time in force of closed order</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Current millisecond timestamp</td>
</tr>
<tr>
<td>remainQuantity</td>
<td>STRING</td>
<td>Remaining order quantity of closed order</td>
</tr>
<tr>
<td>stopPrice</td>
<td>STRING</td>
<td>Stop price of closed stop order (only applicable for STOP order types)</td>
</tr>
<tr>
<td>limitPrice</td>
<td>STRING</td>
<td>Limit price of closed stop order (only applicable for STOP order types)</td>
</tr>
<tr>
<td>ordertype</td>
<td>STRING</td>
<td><code>LIMIT</code> or <code>STOP</code></td>
</tr>
<tr>
<td>isTriggered</td>
<td>STRING</td>
<td><code>false</code> or <code>true</code></td>
</tr>
</tbody></table>
<h4 id='websocket-api-subscriptions-private-order-channel-ordermodified'>OrderModified</h4>
<blockquote>
<p><strong>OrderModified message format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"notice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderModified"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your account ID&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"94335"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9600"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPEN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">    
              </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594943491077"</span><span class="w">
              </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w"> 
            </span><span class="p">}</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>As described in a previous section <a href="#websocket-api-order-commands-modify-order">Order Commands - Modify Order</a>, the Modify Order command can potentially affect the queue position of the order depending on which parameter of the original order has been modified.</p>

<p>If the orders queue position is <strong>unchanged</strong> because the orders quantity has been <strong>reduced</strong> and no other order parameter has been changed then this <strong>OrderModified</strong> message will be sent via the Order Channel giving the full details of the modified order.</p>

<p>If however the order queue position has changed becuase the orders: (1) side was modified, (2) quantity was increased, (3) price was changed or any combination of these then the exchange will cancel the orginal order with an <strong>OrderClosed</strong> message with <strong>status</strong> <code>CANCELED_BY_AMEND</code>, followed by the opening of a new order with an <strong>OrderModified</strong> message containing a new orderID to reflect the orders new position in the order queue.</p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>notice</td>
<td>STRING</td>
<td><code>OrderModified</code></td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account identifier</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders</td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Unique order ID from the exchange</td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td>Limit price of modified order (only applicable for LIMIT order types)</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Quantity of modified order</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td>Order status</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code e.g. <code>BTC-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>timeInForce</td>
<td>STRING</td>
<td>Client submitted time in force, <code>GTC</code> by default</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Current millisecond timestamp</td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td><code>LIMIT</code> or <code>STOP</code></td>
</tr>
<tr>
<td>stopPrice</td>
<td>STRING</td>
<td>Stop price of modified order (only applicable for STOP order types)</td>
</tr>
<tr>
<td>limitPrice</td>
<td>STRING</td>
<td>Limit price of modified order (only applicable for STOP order types)</td>
</tr>
<tr>
<td>isTriggered</td>
<td>STRING</td>
<td><code>false</code> or <code>true</code></td>
</tr>
</tbody></table>
<h4 id='websocket-api-subscriptions-private-order-channel-ordermatched'>OrderMatched</h4>
<blockquote>
<p><strong>OrderMatched message format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"order"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">{</span><span class="w">
              </span><span class="nl">"notice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OrderMatched"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your account ID&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"16"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"567531657"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9300"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Matched status&gt;"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592490254168"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"matchId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11568123"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"matchPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9300"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"matchQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderMatchType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MAKER"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"remainQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Order type&gt;"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9000"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"limitPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9050"</span><span class="p">,</span><span class="w"> 
              </span><span class="nl">"fees"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3.7"</span><span class="p">,</span><span class="w">
              </span><span class="nl">"feeInstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX"</span><span class="p">,</span><span class="w">   
              </span><span class="nl">"isTriggered"</span><span class="p">:</span><span class="w"> </span><span class="s2">"false"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Required</th>
</tr>
</thead><tbody>
<tr>
<td>notice</td>
<td>STRING</td>
<td><code>OrderMatched</code></td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account identifier</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client assigned ID to help manage and identify orders</td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Unique order ID from the exchange</td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td>Limit price submitted (only applicable for LIMIT order types)</td>
</tr>
<tr>
<td>stopPrice</td>
<td>STRING</td>
<td>Stop price submitted (only applicable for STOP order types)</td>
</tr>
<tr>
<td>limitPrice</td>
<td>STRING</td>
<td>Limit price submitted (only applicable for STOP order types)</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Order quantity submitted</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td><code>BUY</code> or <code>SELL</code></td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td><code>FILLED</code> or <code>PARTIAL_FILL</code></td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code i.e. <code>BTC-USD-SWAP-LIN</code></td>
</tr>
<tr>
<td>timeInForce</td>
<td>STRING</td>
<td>Client submitted time in force (only applicable for LIMIT and STOP order types)</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Millisecond timestamp of order match</td>
</tr>
<tr>
<td>matchID</td>
<td>STRING</td>
<td>Exchange match ID</td>
</tr>
<tr>
<td>matchPrice</td>
<td>STRING</td>
<td>Match price of order from this match ID</td>
</tr>
<tr>
<td>matchQuantity</td>
<td>STRING</td>
<td>Match quantity of order from this match ID</td>
</tr>
<tr>
<td>orderMatchType</td>
<td>STRING</td>
<td><code>MAKER</code> or <code>TAKER</code></td>
</tr>
<tr>
<td>remainQuantity</td>
<td>STRING</td>
<td>Remaining order quantity</td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td><ul><li><code>LIMIT</code></li><li><code>MARKET</code></li><li><code>STOP</code></li></ul></td>
</tr>
<tr>
<td>fees</td>
<td>STRING</td>
<td>Amount of fees paid from this match ID</td>
</tr>
<tr>
<td>feeInstrumentId</td>
<td>STRING</td>
<td>Instrument ID of fees paid from this match ID</td>
</tr>
<tr>
<td>isTriggered</td>
<td>STRING</td>
<td><code>false</code> (or <code>true</code> for STOP order types)</td>
</tr>
</tbody></table>
<h2 id='websocket-api-subscriptions-public'>Subscriptions - Public</h2>
<p>All subscriptions to public channels do <strong>not</strong> require an authenticated websocket connection.</p>

<p>Multiple subscriptions to different channels both public and private can be made within a single subscription command:</p>

<p><code>{&quot;op&quot;: &quot;subscribe&quot;, &quot;args&quot;: [&quot;&lt;value1&gt;&quot;, &quot;&lt;value2&gt;&quot;,.....]}</code></p>
<h3 id='websocket-api-subscriptions-public-orderbook-depth'>Orderbook Depth</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">103</span><span class="p">,</span><span class="w">
  </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"futures/depth:BTC-USD-SWAP-LIN"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="err">True</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"103"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"futures/depth:BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1607985371601"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Orderbook depth channel format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"futures/depth"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
      </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"seqNum"</span><span class="p">:</span><span class="w"> </span><span class="mi">1608898592006137237</span><span class="p">,</span><span class="w">
      </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1609350022785"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"checksum"</span><span class="p">:</span><span class="w"> </span><span class="mi">1139901235</span><span class="p">,</span><span class="w"> 
      </span><span class="nl">"asks"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">[</span><span class="mf">5556.82</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">],</span><span class="w">
          </span><span class="p">[</span><span class="mf">5556.84</span><span class="p">,</span><span class="w"> </span><span class="mf">98.13</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">],</span><span class="w">
          </span><span class="p">[</span><span class="mf">5556.92</span><span class="p">,</span><span class="w"> </span><span class="mf">1.582</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">],</span><span class="w">
          </span><span class="p">[</span><span class="mf">5557.6</span><span class="p">,</span><span class="w"> </span><span class="mf">4.291</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">],</span><span class="w">
          </span><span class="p">[</span><span class="mf">5557.85</span><span class="p">,</span><span class="w"> </span><span class="mf">2.54</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"bids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="p">[</span><span class="mf">5556.81</span><span class="p">,</span><span class="w"> </span><span class="mf">1.92</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">],</span><span class="w">
          </span><span class="p">[</span><span class="s2">"5556.8, 2.1, 0, 0],
          [5556.79, 1.9, 0, 0],
          [5556.19, 100, 0, 0],
          [5556.08, 2.972, 0, 0]
      ],
    }]
}
</span></code></pre></div>
<p><strong>Channel Update Frequency:</strong> 50ms</p>

<p>This orderbook depth channel sends a snapshot of the entire orderbook every 50ms.  </p>

<table><thead>
<tr>
<th>Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bids</td>
<td>LIST-FLOAT</td>
<td>Buy side depth</td>
</tr>
<tr>
<td>asks</td>
<td>LIST-FLOAT</td>
<td>Sell side depth</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Instrument ID</td>
</tr>
<tr>
<td>seqNum</td>
<td>INTEGER</td>
<td>Sequence number of the order book snapshot</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Millisecond timestamp</td>
</tr>
</tbody></table>
<h3 id='websocket-api-subscriptions-public-trade'>Trade</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"trade:BTC-USD-SWAP-LIN"</span><span class="p">],</span><span class="w"> </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"trade:BTC-USD-SWAP-LIN"</span><span class="p">],</span><span class="w"> </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594299886880"</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w"> </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;code&gt;"</span><span class="p">,</span><span class="w"> </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594299886880"</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p><strong>Channel update format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trade"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"tradeId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2778148208082945"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5556.91"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-190628"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594299886890"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>The trade channel pushes the matched order data.</p>

<p><strong>Channel Name</strong> : trade:&lt;marketCode&gt;</p>

<p><strong>Update Speed</strong> : real-time</p>

<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tag</td>
<td>INTEGER</td>
<td>NO</td>
<td>Iff given and non-zero, it will be echoed in the reply.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Update Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tradeId</td>
<td>STRING</td>
<td>Transaction Id</td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td>Matched price</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Matched quantity</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>Matched side</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Matched timestamp</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code i.e BTC-USD</td>
</tr>
</tbody></table>
<h3 id='websocket-api-subscriptions-public-ticker'>Ticker</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"ticker:BTC-USD-200925-LIN"</span><span class="p">],</span><span class="w"> </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"ticker:BTC-USD-200925-LIN"</span><span class="p">],</span><span class="w"> </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594299886890"</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w"> </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;code&gt;"</span><span class="p">,</span><span class="w"> </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594299886890"</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p><strong>Channel update format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ticker"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43.259"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11012.80409769"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"open24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"49.375"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"volume24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11295421"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currencyVolume24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1225512"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"high24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"49.488"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"low24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41.649"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1726003"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123443563454"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>The ticker channel pushes the general information about the contract.</p>

<p><strong>Channel Name</strong> : ticker:&lt;marketCode&gt;</p>

<p><strong>Update Speed</strong> : 100ms</p>

<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tag</td>
<td>INTEGER</td>
<td>NO</td>
<td>Iff given and non-zero, it will be echoed in the reply.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Update Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code i.e BTC-USD</td>
</tr>
<tr>
<td>last</td>
<td>STRING</td>
<td>Last traded price</td>
</tr>
<tr>
<td>markPrice</td>
<td>STRING</td>
<td>Matched quantity</td>
</tr>
<tr>
<td>open24h</td>
<td>STRING</td>
<td>24 hour rolling opening price</td>
</tr>
<tr>
<td>volume24h</td>
<td>STRING</td>
<td>24 hour rolling trading volume in counter currency</td>
</tr>
<tr>
<td>currencyVolume24h</td>
<td>STRING</td>
<td>24 hour rolling trading volume in base currency</td>
</tr>
<tr>
<td>high24h</td>
<td>STRING</td>
<td>24 hour highest price</td>
</tr>
<tr>
<td>low24h</td>
<td>STRING</td>
<td>24 hour lowest price</td>
</tr>
<tr>
<td>openInterest</td>
<td>STRING</td>
<td>Open Interest</td>
</tr>
<tr>
<td>lastQty</td>
<td>STRING</td>
<td>Last traded price amount</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp</td>
</tr>
</tbody></table>
<h3 id='websocket-api-subscriptions-public-candles'>Candles</h3>
<blockquote>
<p><strong>Request format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="nl">"op"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> </span><span class="nl">"args"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"candles60s:BTC-USD-SWAP-LIN"</span><span class="p">],</span><span class="w"> </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p><strong>Success response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> </span><span class="nl">"channel"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"candles60s:BTC-USD-SWAP-LIN"</span><span class="p">],</span><span class="w"> </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594313762698"</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p><strong>Failure response format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"subscribe"</span><span class="p">,</span><span class="w"> </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;errorMessage&gt;"</span><span class="p">,</span><span class="w"> </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;code&gt;"</span><span class="p">,</span><span class="w"> </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nl">"tag"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w"> </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594313762698"</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<blockquote>
<p><strong>Channel update format</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"table"</span><span class="p">:</span><span class="w"> </span><span class="s2">"candle60s"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"candle"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="s2">"1594313762698"</span><span class="p">,</span><span class="w"> </span><span class="err">//timestamp</span><span class="w">
                </span><span class="s2">"9633.1"</span><span class="p">,</span><span class="w">        </span><span class="err">//open</span><span class="w">
                </span><span class="s2">"9693.9"</span><span class="p">,</span><span class="w">        </span><span class="err">//high</span><span class="w">
                </span><span class="s2">"9238.1"</span><span class="p">,</span><span class="w">        </span><span class="err">//low</span><span class="w">
                </span><span class="s2">"9630.2"</span><span class="p">,</span><span class="w">        </span><span class="err">//close</span><span class="w">
                </span><span class="s2">"45247"</span><span class="p">,</span><span class="w">         </span><span class="err">//volume</span><span class="w">
                </span><span class="s2">"5.3"</span><span class="w">            </span><span class="err">//currencyVolume</span><span class="w">
            </span><span class="p">],</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>The candles channel pushes the K-line.</p>

<p><strong>Channel Name</strong> : candles&lt;granularity&gt;:&lt;marketCode&gt;</p>

<p><strong>Update Speed</strong> : 500ms</p>

<p><strong>Granularity</strong>  : 60s, 180s, 300s, 900s, 1800s, 3600s, 7200s, 14400s, 21600s, 43200s, 86400s</p>

<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>tag</td>
<td>INTEGER</td>
<td>NO</td>
<td>Iff given and non-zero, it will be echoed in the reply.</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Update Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code i.e BTC-USD</td>
</tr>
<tr>
<td>candle</td>
<td>STRING</td>
<td>Timestamp, open price, highest price, lowest price, close price, trading volume in counter currency, and trading volume in base currency</td>
</tr>
</tbody></table>
<h1 id='rest-api'>REST API</h1>
<p><strong>TEST</strong> site</p>

<ul>
<li><code>https://v2stgapi.coinflex.com</code></li>
</ul>

<p><strong>LIVE</strong> site</p>

<ul>
<li><code>https://v2api.coinflex.com/v2</code></li>
</ul>

<p>For clients who do not wish to take advantage of CoinFLEX&#39;s native WebSocket API, CoinFLEX offers a RESTful API that implements much of the same functionality.</p>
<h2 id='rest-api-authentication'>Authentication</h2>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight python tab-python"><code><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">hmac</span>
<span class="kn">import</span> <span class="nn">base64</span>
<span class="kn">import</span> <span class="nn">hashlib</span>
<span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="kn">import</span> <span class="n">urlencode</span>

<span class="n">rest_url</span> <span class="o">=</span> <span class="s">'https://v2stgapi.coinflex.com'</span>
<span class="n">rest_path</span> <span class="o">=</span> <span class="s">'v2stgapi.coinflex.com'</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="n">API</span><span class="o">-</span><span class="n">KEY</span>
<span class="n">api_secret</span> <span class="o">=</span> <span class="n">API</span><span class="o">-</span><span class="n">SECRET</span>

<span class="n">body</span> <span class="o">=</span> <span class="n">urlencode</span><span class="p">({</span><span class="s">'key1'</span><span class="p">:</span> <span class="s">'value1'</span><span class="p">,</span> <span class="s">'key2'</span><span class="p">:</span> <span class="s">'value2'</span><span class="p">})</span>
<span class="n">ts</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">datetime</span><span class="p">.</span><span class="n">utcnow</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
<span class="n">nonce</span> <span class="o">=</span> <span class="mi">123</span>

<span class="k">if</span> <span class="n">body</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s">'/v2/positions?'</span> <span class="o">+</span> <span class="n">body</span>
    <span class="n">msg_string</span> <span class="o">=</span> <span class="s">'{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">nonce</span><span class="p">,</span> <span class="s">'GET'</span><span class="p">,</span> <span class="n">rest_path</span><span class="p">,</span> <span class="s">'/v2/positions'</span><span class="p">,</span> <span class="n">body</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="n">path</span> <span class="o">=</span> <span class="s">'/v2/positions'</span>
    <span class="n">msg_string</span> <span class="o">=</span> <span class="s">'{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">{}</span><span class="se">\n</span><span class="s">'</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">ts</span><span class="p">,</span> <span class="n">nonce</span><span class="p">,</span> <span class="s">'GET'</span><span class="p">,</span> <span class="n">rest_path</span><span class="p">,</span> <span class="s">'/v2/positions'</span><span class="p">)</span>

<span class="n">sig</span> <span class="o">=</span> <span class="n">base64</span><span class="p">.</span><span class="n">b64encode</span><span class="p">(</span><span class="n">hmac</span><span class="p">.</span><span class="n">new</span><span class="p">(</span><span class="n">api_secret</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">msg_string</span><span class="p">.</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">),</span> <span class="n">hashlib</span><span class="p">.</span><span class="n">sha256</span><span class="p">).</span><span class="n">digest</span><span class="p">()).</span><span class="n">decode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">)</span>

<span class="n">header</span> <span class="o">=</span> <span class="p">{</span><span class="s">'Content-Type'</span><span class="p">:</span> <span class="s">'application/json'</span><span class="p">,</span> <span class="s">'AccessKey'</span><span class="p">:</span> <span class="n">api_key</span><span class="p">,</span>
          <span class="s">'Timestamp'</span><span class="p">:</span> <span class="n">ts</span><span class="p">,</span> <span class="s">'Signature'</span><span class="p">:</span> <span class="n">sig</span><span class="p">,</span> <span class="s">'Nonce'</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">nonce</span><span class="p">)}</span>

<span class="n">resp</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">rest_url</span> <span class="o">+</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">header</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">resp</span><span class="p">.</span><span class="n">json</span><span class="p">())</span>
</code></pre></div>
<p>Public market data methods do not require authentication, however private methods require a <em>Signature</em> to be sent in the header of the request.  These private REST methods  use HMAC SHA256 signatures. </p>

<p>The HMAC SHA256 signature is a keyed HMAC SHA256 operation using a clients API Secret as the key and a message string as the value for the HMAC operation.  </p>

<p>The message string is constructed by the following formula:-</p>

<p><code>msgString = Timestamp + &quot;\n&quot; + Nonce + &quot;\n&quot; + Verb + &quot;\n&quot; + URL + &quot;\n&quot; + Path +&quot;\n&quot; + Body</code></p>

<table><thead>
<tr>
<th>Component</th>
<th>Required</th>
<th>Example</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Timestamp</td>
<td>Yes</td>
<td>2020-04-30T15:20:30</td>
<td>YYYY-MM-DDThh:mm:ss</td>
</tr>
<tr>
<td>Nonce</td>
<td>Yes</td>
<td>123</td>
<td>User generated</td>
</tr>
<tr>
<td>Verb</td>
<td>Yes</td>
<td>&#39;GET&#39;</td>
<td></td>
</tr>
<tr>
<td>Path</td>
<td>Yes</td>
<td>&#39;v2stgapi.coinflex.com&#39;</td>
<td></td>
</tr>
<tr>
<td>Method</td>
<td>Yes</td>
<td>&#39;/v2/positions</td>
<td>Available REST methods: <li><code>V2/positions</code></li><li><code>V2/orders</code></li><li><code>V2/balances</code></li></td>
</tr>
<tr>
<td>Body</td>
<td>No</td>
<td>instrumentID=BTC-USD-SWAP-LIN</td>
<td>Optional and dependent on the REST method being called</td>
</tr>
</tbody></table>

<p>The constructed message string should look like:-</p>

<p><code>2020-04-30T15:20:30\n
  123\n
  GET\n
  v2stgapi.coinflex.com\n
  /v2/positions\n
  instrumentID=BTC-USD-SWAP-LIN</code></p>

<p>Note the newline characters after each component in the message string. 
If <em>Body</em> is ommitted it&#39;s treated as an empty string.</p>

<p>Finally you must use the HMAC SHA256 operation to get the hash value using the API Secret as the key and the constructed message string as the value for the HMAC operation. Then encode this hash value with BASE-64.  This output becomes the signature for the specified authenticated REST API method. </p>

<p>The signature must then be included in the header of the REST API call like so:</p>

<p><code>header = {&#39;Content-Type&#39;: &#39;application/json&#39;, &#39;AccessKey&#39;: API-KEY, &#39;Timestamp&#39;: TIME-STAMP, &#39;Signature&#39;: SIGNATURE, &#39;Nonce&#39;: NONCE}</code></p>
<h2 id='rest-api-methods-private'>Methods - Private</h2><h3 id='rest-api-methods-private-get-v2-accountinfo'>GET <code>/v2/accountinfo</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET/v</span><span class="mi">2</span><span class="err">/accountinfo</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"accountinfo"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tradeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINEAR"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marginCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"totalBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"collateralBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"availableBalance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"portfolioVarMargin"</span><span class="p">:</span><span class="w"> </span><span class="s2">"500"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"riskRatio"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20.0000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1235445"</span><span class="w">
        </span><span class="p">}</span><span class="w"> 
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires authentication. GET your account info. </p>

<table><thead>
<tr>
<th>Response Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>tradeType</td>
<td>STRING</td>
<td>Account type</td>
</tr>
<tr>
<td>marginCurrency</td>
<td>STRING</td>
<td>Asset e.g. &#39;USD&#39;</td>
</tr>
<tr>
<td>totalBalance</td>
<td>STRING</td>
<td>Total balance denoted in marginCurrency</td>
</tr>
<tr>
<td>collateralBalance</td>
<td>STRING</td>
<td>Collateral balance with LTV applied</td>
</tr>
<tr>
<td>availableBalance</td>
<td>STRING</td>
<td>Available balance</td>
</tr>
<tr>
<td>portfolioVarMargin</td>
<td>STRING</td>
<td>Portfolio margin</td>
</tr>
<tr>
<td>riskRatio</td>
<td>STRING</td>
<td>collateralBalance / portfolioVarMargin, Orders are rejected/cancelled if the risk ratio drops below 1 and liquidation occurs if the risk ratio drops below 0.5</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>UNIX timestamp</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-balances'>GET <code>/v2/balances</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET/v</span><span class="mi">2</span><span class="err">/balances</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>Response</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balances"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your Account ID&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1593627419000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tradeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINEAR"</span><span class="err">|</span><span class="s2">"INVERSE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">   
        </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4468.823"</span><span class="p">,</span><span class="w">              
        </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4468.823"</span><span class="p">,</span><span class="w">        
        </span><span class="nl">"reserved"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantityLastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1593627415234"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"EOS"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1585.890"</span><span class="p">,</span><span class="w">              
        </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="s2">"325.890"</span><span class="p">,</span><span class="w">         
        </span><span class="nl">"reserved"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1260"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantityLastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1593627415123"</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires authentication. GET coin balances in your account. </p>

<table><thead>
<tr>
<th>Response Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp of this response</td>
</tr>
<tr>
<td>tradeType</td>
<td>STRING</td>
<td>Define this account is trading linear or inverse derivatives</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Token symbol, e.g. &#39;BTC&#39;</td>
</tr>
<tr>
<td>total</td>
<td>STRING</td>
<td>Total balance</td>
</tr>
<tr>
<td>available</td>
<td>STRING</td>
<td>Available balance</td>
</tr>
<tr>
<td>reserved</td>
<td>STRING</td>
<td>Reserved balance (unavailable)</td>
</tr>
<tr>
<td>quantityLastUpdated</td>
<td>STRING</td>
<td>Timestamp when was balance last updated</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-balances-lt-instrumentid-gt'>GET <code>/v2/balances/&lt;instrumentId&gt;</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET/v</span><span class="mi">2</span><span class="err">/balances/BTC</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"balancesById"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your Account ID&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1593627415293"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tradeType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LINEAR"</span><span class="err">|</span><span class="s2">"INVERSE"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
    </span><span class="p">{</span><span class="w">   
        </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4468.823"</span><span class="p">,</span><span class="w">              
        </span><span class="nl">"available"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4468.823"</span><span class="p">,</span><span class="w">        
        </span><span class="nl">"reserved"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"quantityLastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1593627415001"</span><span class="w">
    </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires authentication. GET balance for a specific coin.</p>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp of this response</td>
</tr>
<tr>
<td>tradeType</td>
<td>STRING</td>
<td>Define this account is trading linear or inverse derivatives</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Token symbol, e.g. &#39;BTC&#39;</td>
</tr>
<tr>
<td>total</td>
<td>STRING</td>
<td>Total balance</td>
</tr>
<tr>
<td>available</td>
<td>STRING</td>
<td>Available balance</td>
</tr>
<tr>
<td>reserved</td>
<td>STRING</td>
<td>Reserved balance (unavailable)</td>
</tr>
<tr>
<td>quantityLastUpdated</td>
<td>STRING</td>
<td>Timestamp when was balance last updated</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-positions'>GET  <code>/v2/positions</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET/v</span><span class="mi">2</span><span class="err">/positions</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"positions"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="s2">"&lt;Your Account ID&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="s2">"1593627415000"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-200626-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.94"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592486212218"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contractValCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7800.00"</span><span class="p">,</span><span class="w">       
            </span><span class="nl">"positionPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200.3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estLiquidationPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6301.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estLiqPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2342.2"</span><span class="w">                  
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires authentication. GET all positions for current user.</p>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp of this response</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Contract symbol, e.g. &#39;BTC-USD-200626-LIN&#39;</td>
</tr>
<tr>
<td>lastUpdated</td>
<td>STRING</td>
<td>Timestamp when position was last updated</td>
</tr>
<tr>
<td>contractValCurrency</td>
<td>STRING</td>
<td>Contract valuation currency</td>
</tr>
<tr>
<td>entryPrice</td>
<td>STRING</td>
<td>Average entry price</td>
</tr>
<tr>
<td>positionPnl</td>
<td>STRING</td>
<td>Postion profit and lost</td>
</tr>
<tr>
<td>estLiquidationPx</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>estLiqPrice</td>
<td>STRING</td>
<td>Estimated liquidation price</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-positions-lt-instrumentid-gt'>GET  <code>/v2/positions/&lt;instrumentId&gt;</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET/v</span><span class="mi">2</span><span class="err">/positions/BTC-USD</span><span class="mi">-200626</span><span class="err">-LIN</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"positionsById"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="s2">"&lt;Your Account ID&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="s2">"1593617005438"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-200626-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.94"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1592486212218"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contractValCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"entryPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7800.00"</span><span class="p">,</span><span class="w">       
            </span><span class="nl">"positionPnl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"200.3"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estLiquidationPx"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6301.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estLiqPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2342.2"</span><span class="w">                  
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires authentication. GET specific positions for current user.</p>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp of this response</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Contract symbol, e.g. &#39;BTC-USD-200626-LIN&#39;</td>
</tr>
<tr>
<td>lastUpdated</td>
<td>STRING</td>
<td>Timestamp when position was last updated</td>
</tr>
<tr>
<td>contractValCurrency</td>
<td>STRING</td>
<td>Contract valuation currency</td>
</tr>
<tr>
<td>entryPrice</td>
<td>STRING</td>
<td>Average entry price</td>
</tr>
<tr>
<td>positionPnl</td>
<td>STRING</td>
<td>Postion profit and lost</td>
</tr>
<tr>
<td>estLiquidationPx</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>estLiqPrice</td>
<td>STRING</td>
<td>Estimated liquidation price</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-trades-marketcode'>GET <code>/v2/trades/{marketCode}</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET/v</span><span class="mi">2</span><span class="err">/trades/</span><span class="p">{</span><span class="err">marketCode</span><span class="p">}</span><span class="err">?limit=</span><span class="p">{</span><span class="err">limit</span><span class="p">}</span><span class="err">&amp;startTime=</span><span class="p">{</span><span class="err">startTime</span><span class="p">}</span><span class="err">&amp;endTime</span><span class="p">{</span><span class="err">endTime</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"trades"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1595635101845"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;Your Account ID&gt;"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
    </span><span class="nl">"matchId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160067484555913077"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"matchTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1595514663626"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"matchQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.010000000"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"matchPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9680.000000000"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"total"</span><span class="p">:</span><span class="w"> </span><span class="s2">"96.800000000000000000"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"orderMatchType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TAKER"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"fees"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.009600000"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"feeInstrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLEX"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160067484555913076"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SELL"</span><span class="p">,</span><span class="w"> 
    </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"123"</span><span class="w">
   </span><span class="p">},</span><span class="w">
</span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>Requires authentication. Get most recent trades of current user.</p>

<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>Default 500, max 1000</td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp of this response</td>
</tr>
<tr>
<td>matchId</td>
<td>STRING</td>
<td>Match ID</td>
</tr>
<tr>
<td>matchTimestamp</td>
<td>STRING</td>
<td>Order Matched timestamp</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>matchQuantity</td>
<td>STRING</td>
<td>Match quantity</td>
</tr>
<tr>
<td>matchPrice</td>
<td>STRING</td>
<td>Match price</td>
</tr>
<tr>
<td>total</td>
<td>STRING</td>
<td>Total price</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>Side of the match</td>
</tr>
<tr>
<td>orderMatchType</td>
<td>STRING</td>
<td>Define taker or maker</td>
</tr>
<tr>
<td>fees</td>
<td>STRING</td>
<td>fees</td>
</tr>
<tr>
<td>feeInstrumentId</td>
<td>STRING</td>
<td>Instrument ID of the fees</td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Order ID generated by the server</td>
</tr>
<tr>
<td>clientOrderID</td>
<td>STRING</td>
<td>Client order ID generated by the user</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-get-v2-orders'>GET  <code>/v2/orders</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET/v</span><span class="mi">2</span><span class="err">/orders</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="s2">"&lt;Your Account ID&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="s2">"1593617005438"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
       </span><span class="p">{</span><span class="w">
          </span><span class="nl">"orderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160039151345856176"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-200626-LIN"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="err">|</span><span class="s2">"&lt;clientOrderId&gt;"</span><span class="p">,</span><span class="w">              
          </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"orderType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LIMIT"</span><span class="err">|</span><span class="s2">"STOP"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.00"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"remainQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.00"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.00"</span><span class="err">|</span><span class="kc">null</span><span class="p">,</span><span class="w">               </span><span class="err">#for</span><span class="w"> </span><span class="err">limit</span><span class="w"> </span><span class="err">order</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">order</span><span class="w">
          </span><span class="nl">"stopPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;stopPrice&gt;"</span><span class="err">|</span><span class="kc">null</span><span class="p">,</span><span class="w">    </span><span class="err">#for</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">order</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">limit</span><span class="w"> </span><span class="err">order</span><span class="w"> 
          </span><span class="nl">"limitPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"《limitPrice&gt;"</span><span class="err">|</span><span class="kc">null</span><span class="p">,</span><span class="w">    </span><span class="err">#for</span><span class="w"> </span><span class="err">stop</span><span class="w"> </span><span class="err">order</span><span class="p">,</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="err">for</span><span class="w"> </span><span class="err">limit</span><span class="w"> </span><span class="err">order</span><span class="w"> 
          </span><span class="nl">"orderCreated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1593617008698"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"lastModified"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1593617008698"</span><span class="p">,</span><span class="w">      
          </span><span class="nl">"lastTradeTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1593617008698"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"timeInForce"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GTC"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>Requires authentication. Get all open orders of current user.</p>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp of this response</td>
</tr>
<tr>
<td>orderId</td>
<td>STRING</td>
<td>Order ID which generated by the server</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>STRING</td>
<td>Client order ID which given by the user</td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td>Side of the order</td>
</tr>
<tr>
<td>orderType</td>
<td>STRING</td>
<td>Type of the order</td>
</tr>
<tr>
<td>quantity</td>
<td>STRING</td>
<td>Quantity submitted</td>
</tr>
<tr>
<td>remainQuantity</td>
<td>STRING</td>
<td>Remainning quantity</td>
</tr>
<tr>
<td>price</td>
<td>STRING</td>
<td>Price submitted</td>
</tr>
<tr>
<td>stopPrice</td>
<td>STRING</td>
<td>Stop price for the stop order</td>
</tr>
<tr>
<td>limitPrice</td>
<td>STRING</td>
<td>Limit price for the stop limit order</td>
</tr>
<tr>
<td>orderCreated</td>
<td>STRING</td>
<td>Timestamp when order was created</td>
</tr>
<tr>
<td>lastModified</td>
<td>STRING</td>
<td>Timestamp when order was last mordified</td>
</tr>
<tr>
<td>lastTradeTimestamp</td>
<td>STRING</td>
<td>Timestamp when order was last traded</td>
</tr>
<tr>
<td>timeInForce</td>
<td>STRING</td>
<td>Time in force</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-delete-v2-cancel-orders'>DELETE <code>/v2/cancel/orders</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">DELETE/v</span><span class="mi">2</span><span class="err">/cancel/orders</span><span class="w"> 
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;AccountID&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594412077100"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
       </span><span class="p">{</span><span class="w">
          </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"All open orders for the account have been queued for cancellation"</span><span class="w">
       </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>Requires authentication. Cancel all open orders.</p>
<h3 id='rest-api-methods-private-delete-v2-cancel-orders-marketcode'>DELETE <code>/v2/cancel/orders/{marketCode}</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">DELETE/v</span><span class="mi">2</span><span class="err">/cancel/orders/BTC-USD</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"orders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"&lt;AccountID&gt;"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1594412077100"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:[</span><span class="w">
      </span><span class="p">{</span><span class="w">
          </span><span class="nl">"msg"</span><span class="p">:</span><span class="w"> </span><span class="s2">"All open orders for the specified market have been queued for cancellation"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires authentication. Cancel all open orders for a specific market code.</p>
<h3 id='rest-api-methods-private-get-v2-1-delivery-orders'>GET <code>/v2.1/delivery/orders</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET/v</span><span class="mf">2.1</span><span class="err">/delivery/orders</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deliverOrders"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1596685339910</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1595781719394"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DELIVERED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliverPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9938.480000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transferAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transferQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"993.848000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instrumentIdDeliver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliverQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.100000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliverOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"575770851486007299"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1595786511155"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CANCELLED"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliverPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9911.470000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transferAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"transferQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"instrumentIdDeliver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliverQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliverOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"575786553086246913"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires authentication. Get entire delivery history.</p>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>UNIX Timestamp of the response</td>
</tr>
<tr>
<td>deliverOrderId</td>
<td>STRING</td>
<td>Order id</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>Null Type</td>
<td>null</td>
</tr>
<tr>
<td>quantity</td>
<td>Null Type</td>
<td>null</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Perpetual swap market code</td>
</tr>
<tr>
<td>deliverPrice</td>
<td>STRING</td>
<td>Mark price at delivery</td>
</tr>
<tr>
<td>instrumentIdDeliver</td>
<td>STRING</td>
<td>Asset being received: long position = coin, short position = USD</td>
</tr>
<tr>
<td>deliverQty</td>
<td>STRING</td>
<td>Quantity of the received asset</td>
</tr>
<tr>
<td>transferAsset</td>
<td>STRING</td>
<td>Asset being sent</td>
</tr>
<tr>
<td>transferQty</td>
<td>STRING</td>
<td>Quantity being sent</td>
</tr>
<tr>
<td>auctionTime</td>
<td>STRING</td>
<td>UNIX timestamp of the next auction</td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td>Request status</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-post-v2-1-delivery-orders'>POST <code>/v2.1/delivery/orders</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">POST/v</span><span class="mf">2.1</span><span class="err">/delivery/orders</span><span class="w">

</span><span class="err">#</span><span class="w"> </span><span class="err">Request</span><span class="w"> </span><span class="err">body</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"qtyDeliver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"delivery"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1599204123484"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"164"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nl">"deliverOrderId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"586985384617312258"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"164"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"clientOrderId"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"deliverPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000.000000000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"deliverPosition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"deliverType"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NEXT_CYCLE"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instrumentIdDeliver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"deliverQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"remainingPosition"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1.000"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transferAsset"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"transferQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"auctionTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1599204122693"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"created"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1599204122693"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"lastUpdated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1599204122693"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PENDING"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires authentication. Submits a delivery request for a specified market and size.</p>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>UNIX Timestamp of the response</td>
</tr>
<tr>
<td>accountId</td>
<td>STRING</td>
<td>Account ID</td>
</tr>
<tr>
<td>deliverOrderId</td>
<td>STRING</td>
<td>Order id</td>
</tr>
<tr>
<td>clientOrderId</td>
<td>Null Type</td>
<td>null</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Perpetual swap market code</td>
</tr>
<tr>
<td>deliverPrice</td>
<td>STRING</td>
<td>Mark price at delivery</td>
</tr>
<tr>
<td>deliverPosition</td>
<td>STRING</td>
<td>Delivered position size</td>
</tr>
<tr>
<td>deliverType</td>
<td>STRING</td>
<td>‘NEXT_CYCLE’: Queueing for the upcoming auction</td>
</tr>
<tr>
<td>instrumentIdDeliver</td>
<td>STRING</td>
<td>Asset being received: long position = coin, short position = USD</td>
</tr>
<tr>
<td>deliverQty</td>
<td>STRING</td>
<td>Quantity of the received asset</td>
</tr>
<tr>
<td>remainingQty</td>
<td>STRING</td>
<td>Remaining quantity</td>
</tr>
<tr>
<td>remainingPosition</td>
<td>STRING</td>
<td>Remaining position</td>
</tr>
<tr>
<td>transferAsset</td>
<td>STRING</td>
<td>Asset being sent</td>
</tr>
<tr>
<td>transferQty</td>
<td>STRING</td>
<td>Quantity being sent</td>
</tr>
<tr>
<td>auctionTime</td>
<td>STRING</td>
<td>UNIX timestamp of the next auction</td>
</tr>
<tr>
<td>created</td>
<td>STRING</td>
<td>UNIX timestamp</td>
</tr>
<tr>
<td>lastUpdated</td>
<td>STRING</td>
<td>UNIX timestamp</td>
</tr>
<tr>
<td>status</td>
<td>STRING</td>
<td>Delivery status</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-private-delete-v2-1-delivery-orders-deliveryorderid'>DELETE <code>/v2.1/delivery/orders/{deliveryOrderId}</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">DELETE/v</span><span class="mf">2.1</span><span class="err">/delivery/orders/</span><span class="p">{</span><span class="err">deliveryOrderId</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>SUCCESSFUL RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"delivery"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1599204310297"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"164"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="s2">"Cancel of user order was successful"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>FAILED RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"delivery"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1599204310297"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"accountId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"164"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
       </span><span class="s2">"Cancel exception please try again"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires authentication. Cancels a pending delivery.</p>
<h3 id='rest-api-methods-private-get-v2-1-deliver-auction-instrumentid'>GET <code>/v2.1/deliver-auction/{instrumentId}</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET/v</span><span class="mf">2.1</span><span class="err">/deliver-auction</span><span class="w">
</span><span class="err">GET/v</span><span class="mf">2.1</span><span class="err">/deliver-auction/&lt;instrumentId&gt;</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"deliverAuction"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1596620815090"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"auctionTime"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1596620805000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"netDeliver"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-5.100000000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"estFundingRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.0001"</span><span class="w">
        </span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Requires authentication. Get entire delivery history.</p>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>UNIX Timestamp of the response</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Market code</td>
</tr>
<tr>
<td>auctionTime</td>
<td>STRING</td>
<td>UNIX timestamp of the next auction</td>
</tr>
<tr>
<td>netDeliver</td>
<td>STRING</td>
<td>Delivery imbalance (negative = more longs than shorts and vice versa)</td>
</tr>
<tr>
<td>estFundingRate</td>
<td>STRING</td>
<td>Estimated funding rate a positive rate means longs pay shorts</td>
</tr>
</tbody></table>
<h2 id='rest-api-methods-public'>Methods - Public</h2><h3 id='rest-api-methods-public-get-v2-all-markets'>GET <code>/v2/all/markets</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET/v</span><span class="mi">2</span><span class="err">/all/markets`</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"markets"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1593617005438"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USD Spot"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"referencePair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"tickSize"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.1"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"qtyIncrement"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.001"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"listingDate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"-2208988800000"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"endDate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marginCurrency"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contractValCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"upperPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11000.00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lowerPriceBound"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9000.00"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marketPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"10000.00"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="err">...</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get a list of all available markets on CoinFlex.</p>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp of this response</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>Market Code</td>
</tr>
<tr>
<td>name</td>
<td>STRING</td>
<td>Name of the contract</td>
</tr>
<tr>
<td>referencePair</td>
<td>STRING</td>
<td>Reference pair</td>
</tr>
<tr>
<td>base</td>
<td>STRING</td>
<td>Base asset</td>
</tr>
<tr>
<td>counter</td>
<td>STRING</td>
<td>Counter asset</td>
</tr>
<tr>
<td>type</td>
<td>STRING</td>
<td>Type of the contract</td>
</tr>
<tr>
<td>tickSize</td>
<td>STRING</td>
<td>Tick size of the contract</td>
</tr>
<tr>
<td>qtyIncrement</td>
<td>STRING</td>
<td>Minimum increamet quantity</td>
</tr>
<tr>
<td>listingDate</td>
<td>STRING</td>
<td>Listing date of the contract</td>
</tr>
<tr>
<td>endDate</td>
<td>STRING</td>
<td>Ending date of the contract</td>
</tr>
<tr>
<td>marginCurrency</td>
<td>STRING</td>
<td>Margining currency</td>
</tr>
<tr>
<td>contractValCurrency</td>
<td>STRING</td>
<td>Contract valuation currency</td>
</tr>
<tr>
<td>upperPriceBound</td>
<td>STRING</td>
<td>Upper price bound</td>
</tr>
<tr>
<td>lowerPriceBound</td>
<td>STRING</td>
<td>Lower price bound</td>
</tr>
<tr>
<td>marketPrice</td>
<td>STRING</td>
<td>Market price</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-public-get-v2-all-assets'>GET <code>/v2/all/assets</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET/v</span><span class="mi">2</span><span class="err">/all/assets</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assets"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="s2">"1593617008698"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-200626-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC/USD 20-06-26 Future (Linear)"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"counter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FUTURE"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marginCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contractValCurrency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliveryDate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliveryInstrument"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bitcoin"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"base"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"counter"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPOT"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"marginCurrency"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"contractValCurrency"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliveryDate"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
            </span><span class="nl">"deliveryInstrument"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Get a list of all assets available on CoinFLEX. These include coins and bookable contracts.</p>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp of this response</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>Instrument ID</td>
</tr>
<tr>
<td>name</td>
<td>STRING</td>
<td>Name of the asset</td>
</tr>
<tr>
<td>base</td>
<td>STRING</td>
<td>Base of the asset</td>
</tr>
<tr>
<td>counter</td>
<td>STRING</td>
<td>Counter of the asset</td>
</tr>
<tr>
<td>type</td>
<td>STRING</td>
<td>type of the asset</td>
</tr>
<tr>
<td>marginCurrency</td>
<td>STRING</td>
<td>Margining currency</td>
</tr>
<tr>
<td>contractValCurrency</td>
<td>STRING</td>
<td>Contract valuation currency</td>
</tr>
<tr>
<td>deliveryDate</td>
<td>STRING</td>
<td>Delivery date</td>
</tr>
<tr>
<td>deliveryInstrument</td>
<td>STRING</td>
<td>Delivery instrument</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-public-get-v2-publictrades-marketcode'>GET <code>/v2/publictrades/{marketCode}</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET/v</span><span class="mi">2</span><span class="err">/publictrades/</span><span class="p">{</span><span class="err">marketCode</span><span class="p">}</span><span class="err">?limit=</span><span class="p">{</span><span class="err">limit</span><span class="p">}</span><span class="err">&amp;startTime=</span><span class="p">{</span><span class="err">startTime</span><span class="p">}</span><span class="err">&amp;endTime</span><span class="p">{</span><span class="err">endTime</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="w"> </span><span class="s2">"publicTrades"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1595636619410"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w"> 
  </span><span class="nl">"data"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"matchId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"160070803925856675"</span><span class="p">,</span><span class="w"> 
      </span><span class="nl">"matchQuantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.100000000"</span><span class="p">,</span><span class="w"> 
      </span><span class="nl">"matchPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"9600.000000000"</span><span class="p">,</span><span class="w"> 
      </span><span class="nl">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BUY"</span><span class="p">,</span><span class="w"> 
      </span><span class="nl">"matchTimestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1595585860254"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
      </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>Get most recent trades.</p>

<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>YES</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>LONG</td>
<td>NO</td>
<td>Default 100, max 300</td>
</tr>
<tr>
<td>startTime</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
<tr>
<td>endTime</td>
<td>LONG</td>
<td>NO</td>
<td></td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp of this response</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>matchID</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>matchQuantity</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>matchPrice</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>side</td>
<td>STRING</td>
<td></td>
</tr>
<tr>
<td>matchTimestamp</td>
<td>STRING</td>
<td></td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-public-get-v2-ticker'>GET <code>/v2/ticker</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET/v</span><span class="mi">2</span><span class="err">/ticker</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"event"</span><span class="p">:</span><span class="s2">"ticker"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="s2">"123443563454"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data"</span><span class="w"> </span><span class="p">:</span><span class="w">
  </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
            </span><span class="nl">"marketCode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTC-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"last"</span><span class="p">:</span><span class="w"> </span><span class="s2">"43.259"</span><span class="p">,</span><span class="w"> 
            </span><span class="nl">"markPrice"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11012.80409769"</span><span class="p">,</span><span class="w">  
            </span><span class="nl">"open24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"49.375"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"volume24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11295421"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"currencyVolume24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1025.7"</span><span class="p">,</span><span class="w">                       
            </span><span class="nl">"high24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"49.488"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"low24h"</span><span class="p">:</span><span class="w"> </span><span class="s2">"41.649"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"openInterest"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1726003"</span><span class="p">,</span><span class="w">
            </span><span class="nl">"lastQty"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="err">...</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">

</span></code></pre></div>
<p>Get a list of all of the tickers.</p>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp of this response</td>
</tr>
<tr>
<td>marketCode</td>
<td>STRING</td>
<td>&quot;BTC-USD-SWAP-LIN&quot;,</td>
</tr>
<tr>
<td>last</td>
<td>STRING</td>
<td>Last traded price</td>
</tr>
<tr>
<td>markPrice</td>
<td>STRING</td>
<td>Mark price</td>
</tr>
<tr>
<td>open24h</td>
<td>STRING</td>
<td>Daily opening price</td>
</tr>
<tr>
<td>volume24h</td>
<td>STRING</td>
<td>24 hour volume (USD)</td>
</tr>
<tr>
<td>currencyVolume24h</td>
<td>STRING</td>
<td>24 hour volume (coin)</td>
</tr>
<tr>
<td>high24h</td>
<td>STRING</td>
<td>24 hour high</td>
</tr>
<tr>
<td>low24h</td>
<td>STRING</td>
<td>24 hour low</td>
</tr>
<tr>
<td>openInterest</td>
<td>STRING</td>
<td>Current open interest</td>
</tr>
<tr>
<td>lastQty</td>
<td>STRING</td>
<td>Last traded quantity</td>
</tr>
</tbody></table>
<h3 id='rest-api-methods-public-get-v2-delivery-public-funding'>GET <code>/v2/delivery/public/funding</code></h3>
<blockquote>
<p><strong>Request</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="err">GET</span><span class="w"> </span><span class="err">/v</span><span class="mi">2</span><span class="err">/delivery/public/funding</span><span class="w">
</span></code></pre></div>
<blockquote>
<p><strong>RESPONSE</strong></p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-08 04:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"COMP-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fundingRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000000"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2020-12-08 04:00:00"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"instrumentId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CRV-USD-SWAP-LIN"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"fundingRate"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.000000000"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="err">...</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Get funding rate</p>

<table><thead>
<tr>
<th>Request Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>column</td>
<td>STRING</td>
<td>limit size of results, e.g. 3</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>e.g. UNI-USD-SWAP-LIN</td>
</tr>
<tr>
<td>startTime</td>
<td>STRING</td>
<td>e.g. 2020-12-08 20:00:00</td>
</tr>
</tbody></table>

<table><thead>
<tr>
<th>Response Parameters</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>timestamp</td>
<td>STRING</td>
<td>Timestamp of this response</td>
</tr>
<tr>
<td>instrumentId</td>
<td>STRING</td>
<td>&quot;BTC-USD-SWAP-LIN&quot;</td>
</tr>
<tr>
<td>fundingRate</td>
<td>STRING</td>
<td>e.g. 0.000060000</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="json">json</a>
                <a href="#" data-language-name="c++">c++</a>
                <a href="#" data-language-name="javascript">javascript</a>
                <a href="#" data-language-name="python">python</a>
          </div>
      </div>
    </div>
  </body>
</html>
