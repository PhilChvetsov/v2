
# Websocket Common Format

DEMO/STAGE site

`wss:http://api-test-v2.coinflex-cn.com/v2/websocket`




> **Request format**

Valid options of op can be:  login, subscribe, unsubscribe, placeorder, cancelorder etc.

```json

  {"op": "<value>", 
   "args": ["<value1>",
   "<value2>"]}
  {"op": "<value>, 
   "data":{"<key1>":"<value1>",...,
   "<keyN>":"<valueN>"}}

```

 `args`: the value is the channel name, which can be one or more channels.


 `data`: the data is the JSON string of request object, which is for operations like placeorder.

> **Success response format**

```json
 
  {"event": "login", "success": true}
  {"event": "placeorder","success": true}
  {"event": "<value>","channel":"<value>"}
  {"table":"channel","data":"[{"<value1>","<value2>"}]"}

```

```
In the spot/depth channel, the return formats for 
distinguishing between the first full amount and the 
subsequent incremental data are:

```

```json


  {"table":"channel",
   "action":"<value>",
   "data":"[{"<value1>",
   "<value2>"}]"}

```

> **Failure response format:**

```json

  {"event":"error",
   "message":"<errorMessage>",
   "code":"<code>",
   "success": false}

```

> **Notification Response format:**

```json

  {"table":"order","data":[{...}]}




  {
    "table":"order",
    "data":[
        {   
            "notice":"OrderOpened",
            "accountId":1, 
            "marketCode":"BTC-USD-SWAP-LIN",
            "orderId” : 123,  
            "clientOrderId": 16, 
            "price": 60, 
            "quantity": 2,
            "orderType":"LIMIT" 
            "side": "BUY", 
            "timeInForce": "GTC", 
            "status": "OPEN",
            "timestamp":12345
        }
    ]
}

```

# Websocket Login

> **Request format**

```json

  {"op":"login",
   "args":["<apiKey>",
   "<timestamp>","<sign>"]or 
  {"op":"login", 
   "data":{"xCfToken":"<token generated by REST LOGIN API>"}}


  {"op":"login",
   "args":["985d5b66-57ce-40fb-b714-afc0b9787083", 
   "1538054050.975",
   "7L+zFQ+CEgGu5rzCj4+BdV2/uUHGqddA9pI6ztsRRPs="]}

```
* `apiKey`: the api key in subaccount information

* `timestamp`: UTC timestamp

* `sign`: TBD

* Each websocket must be login first. When using x-cf-token to login, the following rules apply: If the login is main account, then the main account id is used for trading activities. If the login is sub-account, then the default sub-account is used for trading activities. When using apiKey to login, the accountId bind to the apiKey is used for trading activites.

* **Example of timestamp**:const timestamp = '' + Date.now() 

* **Example of sign**: sign=CryptoJS.enc.Base64.Stringify(CryptoJS.HmacSHA256(timestamp +'GET'+ '/auth/self/verify', api-secret))<p></p>
  **method** is preset as'GET'<p></p>
  **requestPath** is preset as '/auth/self/verify'


> **Success response format**

```json
 
  {"event":"login",
   "success":true}

```

> **Failure response format:**

```json
 
  {"event":"login",
   "success":false,
   "code":"<code>",
   "message":"<errorMessage>"}

```

Login subscription format when using api-key:

```json
 
  {"op":"login",
   "args":["<api_key>",
   "<timestamp>",
   "<sign>"]

```

Response：

```json
 
  {"event":"login",
   "success":true}

```




# Websocket Place Order 


## Limit Order 

Requires authentication. Please subscribe user order channel to receive the order updates.

> **Request format**

```json
 
{   
    "op":"placeorder", 
    "data":{
            "clientOrderId":1, 
            "marketCode": "BTC-USD-SWAP-LIN",
            "side":"BUY", 
            "orderType":"LIMIT", 
            "quantity":10, 
            "timeInForce":"GTC", 
            "price":7800
            }
}


```
**Request Parameters Specification:**


Parameters | Type | Required | Description | 
-------------------------- | -----|--------- | -------------|
clientOrderId | integer | No | Customized order ID to identify your orders | 
marketCode | String | Yes | Market Code i.e. `BTC-USD-SWAP-LIN` |    
orderType | String | Yes |  LIMIT for Limit orders | 
price | decimal |  Yes |  price |    Price for limit orders |
quantity |  decimal | Yes | Quantity (denominated by contractValCurrency) |  
side | string | Yes | BUY / SELL | 
timeInForce | enum | No | <ul><li>`GTC` (Good-till-Cancel) - Default</li><li> `IOC` (Immediate or Cancel, i.e. Taker-only)</li><li> `FOK` (Fill or Kill, for full size)</li><li>`MAKER_ONLY` (i.e. Post-only)</li><li> `MAKER_ONLY_REPRICE` (Reprices order to the best maker price if specified price otherwise leads to a taker trade)</li></ul>


 |


> **Success response format**

```json
 
  {"event":"placeorder",
   "success":true}


```


```json
 
{
    "table":"order",
    "data":[
        {   
            "notice":"OrderOpened",
            "accountId":1, 
            "marketCode":"BTC-USD-SWAP-LIN",
            "orderId” : 123,  
            "clientOrderId": 16, 
            "price": 60, 
            "quantity": 2,
            "orderType":"LIMIT" 
            "side": "BUY", 
            "timeInForce": "GTC", 
            "status": "OPEN",
            "timestamp":12345
        }
    ]
}

```


Parameters | Type | Required 
-------------------------- | -----|--------- | 
notice | String | `OrderOpened`
accountId | String  | Account identifer   
marketCode | String |  Market Code i.e. `BTC-USD-SWAP-LIN`
orderId | String |     Order ID generated by the server
clientOrderId |  String |  Client order ID submitted   
price | String | Price submitted
quantity | String| Quantity submitted
side|String|`BUY` / `SELL`
timeInForce|String|Confirming user setting
status|String|  OPEN = success
timestamp|String|UNIX timestamp
orderType|string|`LIMIT`


```json
 
{
    "table":"order",
    "data":[
        {
          "notice":"OrdersMatched",
          "accountId":1, 
          "marketCode":"BTC-USD-SWAP-LIN",
          "orderId" : 123,  
          "clientOrderId": 16, 
          "matchId": 1, 
          "price": 60, 
          "quantity": 2,
          "matchPrice":60,
          "matchQuantity":1,
          "orderMatchType":"MAKER",
          "remainQuantity":1,
          "orderType":"LIMIT"
          "side": "BUY", 
          "timeInForce": "GTC", 
          "fees":123,
          "feeInstrumentId":"FLEX",
          "status": "PARTIAL_FILL",
          ”timestamp”:12345
        }
    ]
}


```

Parameters | Type | Required 
-------------------------- | -----|--------- | 
notice | String | `OrderOpened`
accountId | String | Account identifer    
orderId | String |     Order ID generated by the server
fees|String|Fee amount
feeInstrumentId|String|Fee instrument (e.g. USD)
marketCode|String|  Market Code i.e. BTC-USD-SWAP-LIN
matchId|String|Match/trade identifier
matchPrice|String|Traded price
matchQuantity|String|Traded quantity
orderId|String|Order ID generated by the server
orderMatchType|String|`MAKER`/`TAKER`
orderType|string|`LIMIT`
price|String|Price submitted
quantity|String|Quantity submitted
remainQuantity|String|Remaining quantity
side|String|`BUY` / `SELL`
status|String|`PARTIAL_FILL`
timeInForce|String|Confirming user setting
timestamp|String|UNIX timestamp


```json
 
{
    "table":"order",
    "data":[
        {
          "notice":"OrdersMatched",
          "accountId":1, 
          "marketCode":"BTC-USD-SWAP-LIN",
          "orderId" : 123,  
          "clientOrderId": 16, 
          "matchId": 1, 
          "price": 60, 
          "quantity": 2,
          "matchPrice":60,
          "matchQuantity":2,
          "orderMatchType":"MAKER",
          "remainQuantity":0,
          "orderType":"LIMIT"
          "side": "BUY", 
          "timeInForce": "GTC", 
          "fees":123
          "feeInstrumentId":"FLEX",
          "status": "FILLED",
          ”timestamp”:12345
        }
    ]
}


```


Parameters | Type | Required 
-------------------------- | -----|--------- | 
notice | String | `OrdersMatched`
accountId | String | Account identifer  
marketCode|String|      Market Code i.e. `BTC-USD-SWAP-LIN` 
orderId | String |     Order ID generated by the server
orderId|String|Order ID generated by the server
clientOrderId|String|  Client order ID submitted
price|String|Price submitted
quantity|String|Quantity submitted
remainQuantity|String|Remaining quantity
side|String|`BUY` / `SELL`
timeInForce|String|Confirming user setting
status|String|`FILL`
timestamp|String|UNIX timestamp
orderType|string|`LIMIT`


```json
 
{
    "table":"order",
    "data":[
        {
          "notice":"OrderClosed"
          "accountId":1, 
          "marketCode":"BTC-USD-SWAP-LIN",
          "orderId" : 123,  
          "clientOrderId": 16, 
          "price": 60, 
          "quantity": 2,
          "remainQuantity":0,
          "orderType":"LIMIT"
          "side": "BUY", 
          "timeInForce": "IOC", 
          "status": "CANCELED_ALL_BY_IOC",
          ”timestamp”:12345
        }
    ]
}


```

Parameters | Type | Required 
-------------------------- | -----|--------- | 
accountId | String |  Account identifer  
orderId | String |     Order ID generated by the server
orderType|string|`LIMIT`
notice | String | `OrderClosed`
clientOrderId|String|  Client order ID submitted
price|String|Price submitted
quantity|String|Quantity submitted
remainQuantity|String|Remaining quantity
side|String|`BUY` / `SELL`
timeInForce|String|Confirming user setting
status|String|cancelled all by IOC
timestamp|String|UNIX timestamp


```json
 
{
    "table":"order",
    "data":[
        {
          "notice":"OrderClosed",
          "accountId":1, 
          "marketCode":"BTC-USD-SWAP-LIN",
          "orderId" : 123,  
          "clientOrderId": 16, 
          "price": 60, 
          "quantity": 2,
          "remainQuantity":0,
          "orderType":"LIMIT"
          "side": "BUY", 
          "timeInForce": "IOC", 
          "status": "CANCELED_PARTIAL_BY_IOC",
          ”timestamp”:12345
        }
    ]
}


```

Parameters | Type | Required 
-------------------------- | -----|--------- | 
accountId | String |  Account identifer  
orderId | String |     Order ID generated by the server
orderType|string|`LIMIT`
notice | String | `OrderClosed`
orderId|String|Order ID generated by the server
clientOrderId|String|  Client order ID submitted
price|String|Price submitted
quantity|String|Quantity submitted
remainQuantity|String|Remaining quantity
side|String|`BUY` / `SELL`
timeInForce|String|Confirming user setting
status|String|CANCELED PARTIAL BY IOC
timestamp|String|UNIX timestamp



```json
 
{
    "table":"order",
    "data":[
        {
          "notice":"OrderClosed",
          "accountId":1, 
          "marketCode":"BTC-USD-SWAP-LIN",
          "orderId" : 123,  
          "clientOrderId": 16, 
          "price": 60, 
          "quantity": 2,
          "remainQuantity":0,
          "orderType":"LIMIT"
          "side": "BUY", 
          "timeInForce": "FOK", 
          "status": "CANCELED_BY_FOK",
          ”timestamp”:12345
        }
    ]
}


```

Parameters | Type | Required 
-------------------------- | -----|--------- | 
accountId | String | Account identifer  
orderId | String |     Order ID generated by the server
orderType|string|`LIMIT`
notice | String | `OrderClosed`
orderId|String|Order ID generated by the server
clientOrderId|String|  Client order ID submitted
price|String|Price submitted
quantity|String|Quantity submitted
remainQuantity|String|Remaining quantity
side|String|`BUY` / `SELL`
timeInForce|String|Confirming user setting
status|String|CANCELED BY FOK
timestamp|String|UNIX timestamp


```json
 
{
    "table":"order",
    "data":[
        {
          "notice"："OrderClosed",
          "accountId":1, 
          "marketCode":"BTC-USD-SWAP-LIN",
          "orderId" : 123,  
          "clientOrderId": 16, 
          "price": 60, 
          "quantity": 2,
          "remainQuantity":0,
          "orderType":"LIMIT"
          "side": "BUY", 
          "timeInForce": "MAKER_ONLY", 
          "status": "CANCELED_BY_MAKER_ONLY",
          ”timestamp”:12345
        }
    ]
}

```

Parameters | Type | Required 
-------------------------- | -----|--------- | 
accountId | String |  Account identifer  
orderId | String |   Order ID generated by the server
orderType|string|`LIMIT`
notice | String | `OrderClosed`
orderId|String|Order ID generated by the server
clientOrderId|String|  Client order ID submitted
price|String|Price submitted
quantity|String|Quantity submitted
remainQuantity|String|Remaining quantity
side|String|`BUY` / `SELL`
timeInForce|String|Confirming user setting
status|String|CANCELED BY MAKER ONLY
timestamp|String|UNIX timestamp

```json
 
{
    "table":"order",
    "data":[
        {
          "notice"："OrderRejected",
          "quantity":0,
          "clientOrderID":123
          "status": "REJECT_QUANTITY_ZERO",
          "timestamp":12345
        }
    ]
}

```

Parameters | Type | Required 
-------------------------- | -----|--------- | 
notice | String | `OrderRejected`
quantity|String|Quantity submitted
status|String|REJECT QUANTITY ZERO
timestamp|String|UNIX timestamp
clientOrderId|String|  Client order ID submitted


```json
 
{
    "table":"order",
    "data":[
        {
          "notice"："OrderRejected",
          "status": "REJECT_UNKNOW_ORDER_ACTION",
          ”timestamp”:12345
        }
    ]
}

```

```json
 
{
    "table":"order",
    "data":[
        {
          "notice"："OrderRejected",
          "status": "REJECT_LIMITE_ORDER_WITH_MARKET_PRICE",
          ”timestamp”:12345
        }
    ]
}

```

> **Failure response format:**

```json
 
  {"event":"placeorder",
   "success":false,
   "code":,"message":""} 

```




## Market Order




## Stop Limit Order

Requires authentication. Please subscribe user order channel to receive the order updates.

> **Request format**

```json
 
{
      "op":"placeorder", 
      "data":{
              "clientOrderId":1, 
              "marketCode": "BTC-USD-SWAP-LIN", 
              "side":"BUY", 
              "orderType":"STOP", 
              "quantity":10,
              "stopPrice":100,
              "limitPrice":120
              }
}

```

**Request Parameters Specification:**

Parameters | Type | Required |Description| 
-------------------------- | -----|--------- | -------------|
clientOrderId| number | No | User-generated order ID to identify orders | 
limitPrice| number|Yes | Limit price for the stop-limit order. <p><p>The limit price must be greater or equal to the stop price for buy-side.<p><p>The limit price must be less or equal to the stop price for sell-side.|
marketCode| string| Yes| Market Code i.e. `BTC-USD-SWAP-LIN`| 
orderType|String| Yes|  `STOP` for Stop-Limit orders (no Stop-market currently)| 
quantity|number|Yes|Quantity (denominated by contractValCurrency)|
side|string| Yes| `BUY `/ `SELL`| 
stopPrice|number|Yes|Stop price for the stop-limit order.<p><p>Triggered by the best bid price for the SELL side stop-limit order.<p><p>Triggered by the best ask price for the BUY side stop-limit order. |



```json
 
{
    "table":"order",
    "data":[
        {   
            "notice":"OrderOpened",
            "accountId":1, 
            "marketCode":"BTC-USD-SWAP-LIN",
            "orderId” : 123,  
            "clientOrderId": 16,  
            "quantity": 2, 
            "orderType":"STOP" 
            "side": "BUY", 
            "stopPrice":100,
            "limitPrice":120
            "status": "OPEN",
            "timestamp":12345
        }
    ]
}

```


Parameters |Type| Required |
--------|-----|---|
notice | String | `OrderOpened`
accountId | String |  Account identifer   
marketCode | String |  Market Code i.e. `BTC-USD-SWAP-LIN`
orderId | String |     Order ID generated by the server
clientOrderId |  String | Client order ID submitted   
price | String | Price submitted
quantity | String| Quantity submitted
side|String|`BUY` / `SELL`
timeInForce|String|Confirming user setting
status|String|  OPEN = success
timestamp|String |UNIX timestamp
orderType| string |`STOP`
stopPrice|String|Stop price submitted
limitPrice|String|limit price3 submitted


```json
 
{
    "table":"order",
    "data":[
        {
          "notice":"OrdersMatched",
          "accountId":1, 
          "marketCode":"BTC-USD-SWAP-LIN",
          "orderId" : 123,  
          "clientOrderId": 16, 
          "matchId": 1, 
          "stopPrice":100,
          "limitPrice":120
          "quantity": 2,
          "matchPrice":60,
          "matchQuantity":1,
          "orderMatchType":"MAKER",
          "remainQuantity":1,
          "orderType":"STOP"
          "side": "BUY", 
          "timeInForce": "GTC", 
          "fees":123,
          "feeInstrumentId":"FLEX",
          "status": "PARTIAL_FILL",
          ”timestamp”:12345
        }
    ]
}

```

Parameters | Type | Required 
-------------------------- | -----|--------- | 
notice | String | `OrderOpened`
accountId | String | Account identifer    
clientOrderId|String|  Client order ID submitted
marketCode|String|  Fee instrument (e.g. USD)
orderId | String |    Order ID generated by the server
matchId|String|Match/trade identifier
stopPrice|String|Stop price submitted
limitPrice|String|Limit price submitted
quantity|String|Quantity submitted
matchPrice|String|Traded price
matchQuantity|String|Traded quantity
orderMatchType|String|`MAKER`/`TAKER`
remainQuantity|String|Remaining quantity
side|String|`BUY` / `SELL`
timeInForce|String|Confirming user setting
status|String|`PARTIAL_FILL`
timestamp|String|UNIX timestamp
fees|String|Fee amount
feeInstrumentId|String|Fee instrument (e.g. USD)
orderType|string|`STOP`




```json
 
{
    "table":"order",
    "data":[
        {
          "notice":"OrdersMatched",
          "accountId":1, 
          "marketCode":"BTC-USD-SWAP-LIN",
          "orderId" : 123,  
          "clientOrderId": 16, 
          "matchId": 1, 
          "stopPrice":100,
          "limitPrice":120
          "quantity": 2,
          "matchPrice":60,
          "matchQuantity":2,
          "orderMatchType":"MAKER",
          "remainQuantity":0,
          "orderType":"STOP"
          "side": "BUY", 
          "timeInForce": "GTC", 
          "fees":123,
          "feeInstrumentId":"FLEX",
          "status": "FILLED",
          ”timestamp”:12345
        }
    ]
}

```


Parameters | Type | Required 
-------------------------- | -----|--------- | 
notice | String | `OrderMatched`
accountId | String | Account identifer    
marketCode|String|  Market Code i.e. `BTC-USD-SWAP-LIN`
orderId | String |    Order ID generated by the server
clientOrderId|String|  Client order ID submitted
matchId|String|Match/trade identifier
stopPrice|String|Stop price submitted
limitPrice|String|Limit price submitted
quantity|String|Quantity submitted
matchPrice|String|Traded price
matchQuantity|String|Traded quantity
orderMatchType|String|`MAKER`/`TAKER`
remainQuantity|String|Remaining quantity
side|String|`BUY` / `SELL`
timeInForce|String|Confirming user setting
status|String|`FILLED`
timestamp|String|UNIX timestamp
fees|String|Fee amount
feeInstrumentId|String|Fee instrument (e.g. USD)
orderType|string|`STOP`



```json
 
{
    "table":"order",
    "data":[
        {
          "notice"："OrderRejected",
          "clientOrderId":123
          "orderType":"STOP",
          "side":"BUY",
          "stopPrice":100,
          "limitPrice":80,
          "status": "STOP_PRICE_LARGER_THAN_LIMIT_PRICE",
          "timestamp":12345
        }
    ]
}

```


Parameters | Type | Required 
-------------------------- | -----|--------- | 
notice | String | `OrderRejected`
accountId | String |  Account identifer    
clientOrderId|String|  Client order ID submitted
orderType|string|`STOP`
side|String|`BUY` / `SELL`
status|String|STOP PRICE LARGER THAN LIMIT PRIC
stopPrice|String|Stop price submitted
limitPrice|String|Limit price submitted
timestamp|String|UNIX timestamp

```json
 
{
    "table":"order",
    "data":[
        {
          "notice"："OrderRejected",
          "clientOrderId":123
          "orderType":"STOP",
          "side":"SELL",
          "stopPrice":80,
          "limitPrice":100,
          "status": "STOP_PRICE_LESS_THAN_LIMIT_PRICE",
          "timestamp":12345
        }
    ]
}

```


Parameters | Type | Required 
-------------------------- | -----|--------- | 
notice | String | `OrderRejected`
accountId | String |  Account identifer    
clientOrderId|String|  Client order ID submitted
orderType|string|`STOP`
side|String|`BUY` / `SELL`
status|String|STOP PRICE LARGER THAN LIMIT PRIC
stopPrice|String|Stop price submitted
limitPrice|String|Limit price submitted
timestamp|String|UNIX timestamp



## Cancel Order 

Requires authentication. Please subscribe user order channel to receive the order updates.

> **Request format**

```json
 
{
        "op":"cancelorder",
        "data":{
                "marketCode":"<market_code>", 
                "orderId":"<order_id>"
                }
}

```


**Request Parameters Specification:**

Parameters | Type | Required | Description
-------------------------- | -----|--------- | -------------|
marketCode|string|Yes|Market Code i.e. `BTC-USD-SWAP-LIN`| 
orderId|integer|YES|Order ID is generated by the server.|

> **Success response format**

```json
 
  {"event":"cancelorder",
   "success":true}

```


```json
 
{
    "table":"order",
    "data":[
        {
          "notice":"OrderClosed", 
          "accountId":1, 
          "marketCode":"BTC-USD-SWAP-LIN",
          "orderId" : 123,  
          "clientOrderId": 16, 
          "price": 60, 
          "quantity": 2,
          "remainQuantity":0,
          "orderType":"LIMIT"
          "side": "BUY", 
          "timeInForce": "GTC", 
          "status": "CANCELED_BY_USER",
          ”timestamp”:12345
        }
    ]
}
```

Parameters | Type | Required 
-------------------------- | -----|--------- | 
notice | String | `OrderClosed`
accountId | String |  Account identifer 
clientOrderId|String|  Client order ID submitted
marketCode|String|  Market Code i.e. BTC-USD-SWAP-LIN
orderId | String |    Order ID generated by the server
orderType|string|`LIMIT`
price|String|Price submitted 
quantity|String|Quantity submitted
remainQuantity|String|Remaining quantity
side|String|`BUY` / `SELL`
status|String|`cancelled by user`
timeInForce|String|Confirming user setting
timestamp|String|UNIX timestamp





```json
 
{
    "table":"order",
    "data":[
        {
          "notice":"OrderClosed", 
          "accountId":1, 
          "marketCode":"BTC-USD-SWAP-LIN",
          "orderId" : 123,  
          "clientOrderId": 16, 
          "stopPrice": 100,
          "limitPrice":120, 
          "quantity": 2,
          "remainQuantity":0,
          "orderType":"STOP"
          "side": "BUY", 
          "timeInForce": "GTC", 
          "status": "CANCELED_BY_USER",
          ”timestamp”:12345
        }
    ]
}

```

Parameters | Type | Required 
-------------------------- | -----|--------- | 
notice | String | `OrderClosed`
accountId | String |  Account identifer 
clientOrderId|String|  Client order ID submitted
marketCode|String|  Market Code i.e. `BTC-USD-SWAP-LIN`
orderId | String |    Order ID generated by the server
ordertype|String | `STOP`
price|String|Price submitted 
quantity|String|Quantity submitted
remainQuantity|String|Remaining quantity
side|String|`BUY` / `SELL`
status|String|`cancelled by user`
stopPrice|String|stop price submitted
timeInForce|String|Confirming user setting
timestamp|String|UNIX timestamp


```json
 
{
    "table":"order",
    "data":[
        {
          "notice"："OrderRejected",
          "orderId":123
          "status": "REJECT_CANCEL_ORDER_ID_NOT_FOUND",
          "timestamp":12345
        }
    ]
}

```

Parameters | Type | Required 
-------------------------- | -----|--------- | 
notice | String |`OrderReject`
orderId | String |    Order ID generated by the server
status|String|REJECT CANCEL ORDER ID NOT FOUND
timestamp|String|UNIX timestamp


> **Failure response format:**

```json
 
  {"event":"cancelorder",
   "success":false,
   "code":,"message":""} 

```



## Modify Order

Requires authentication. Please subscribe user order channel to receive the order updates.

```json
 
{
        "op":"modifyorder",
        "data":{
                "marketCode":"<market_code>", 
                "orderId":"<order_id>"
                "side":"BUY",
                "price":123,
                "quantity":123,
                }
}

```

Parameters | Type | Required | Description|
-------------------------- | -----|--------- | -------------|
marketCode|string|Yes|market id| Market Code i.e. `BTC-USD-SWAP-LIN`|
orderId| integer|Yes|Order ID generated by the server|
side| string|Yes| `BUY` or `SELL`| 
price|decimal|Yes|Price for limit orders| 
quantity|decimal|Yes|  Quantity (denominated by `contractValCurrency`)| 





> **Success response format**

```json
 
  {"event":"modifyorder",
   "success":true}

```

```json
 
    "table":"order",
    "data":[
        {   
            "notice":"OrderModified",
            "accountId":1, 
            "marketCode":"BTC-USD-SWAP-LIN",
            "orderId” : 123,  
            "clientOrderId": 16, 
            "price": 60, 
            "quantity": 2, 
            "orderType":"LIMIT" 
            "side": "BUY", 
            "timeInForce": "GTC", 
            "status": "OPEN",
            "timestamp":12345
        }
    ]
}

```


Parameters |Type| Required |
--------|-----|---|
notice | String | `OrderModified`
accountId | String | Account identifer   
marketCode | String |  Market Code i.e. `BTC-USD-SWAP-LIN`
orderId | String |     Order ID generated by the server
clientOrderId |  String | Client order ID submitted   
price | String | Price submitted
quantity | String| Quantity submitted
side|String|`BUY` / `SELL`
timeInForce|String|Confirming user setting
status|String|  OPEN = success
timestamp|String |UNIX timestamp
orderType| string |`LIMIT`

```json
 
{
    "table":"order",
    "data":[
        {
          "notice"："OrderRejected",
          "orderId":123
          "status": "REJECT_AMEND_ORDER_ID_NOT_FOUND",
          "timestamp":12345
        }
    ]
}

```

Parameters |Type| Required |
--------|-----|---|
notice | String | `OrderRejected`
orderId | String |     Order ID generated by the server
status|String|  REJECT AMEND ORDER ID NOT FOUND
timestamp|String |UNIX timestamp



> **Failure response format:**

```json
 
  {"event":"modifyorder",
   "success":false,
   "code":,"message":""} 

```


# Websocket Private Channel 



## User Order Channel 

Requires authentication. Get the user's order information.

> **Request format**

```json
 
  {"op": "subscribe", 
  "args":["order:BTC-USD"]}

```
order is the channel name.  BTC-USD is the market code.  Example responses are in Webosocket Private Data Stream Section.




# Websocket Public Channel 
## channel list

**Channels that don't require login**

futures/depth 

## Public - Depth

> **Request**

```json
 
{"op": "subscribe", "args":["futures/depth:BTC-USD-190628"]}

```



> **Response**

```json
 
{
    "table": "futures/depth",
    "data": [{
        "asks": [
            ["5556.82", "11", "0", "0"],
            ["5556.84", "98", "0", "0"],
            ["5556.92", "1", "0", "0"],
            ["5557.6", "4", "0", "0"],
            ["5557.85", "2", "0", "0"]
        ],
        "bids": [
            ["5556.81", "1", "0", "0"],
            ["5556.8", "2", "0", "0"],
            ["5556.79", "1", "0", "0"],
            ["5556.19", "100", "0", "0"],
            ["5556.08", "2", "0", "0"]
        ],
        "instrumentId": "BTC-USD-190628",
        "timestamp": "2019-05-06T07:19:39.348Z"
    }]
}

```


**Description**

futures/depth is channel name ，BTC-USD-190628 is instrumentId

bids and asks value example:

["411.8", "10", "0", "0"] 411.8 is the price; 10 is the quantity.

Parameters | Parameters Types | Description| 
-------------------------- | -----| -------------|
bids| List<String>|Buy side depth |
instrumentId| String|Contract ID，e.g .BTC-USD-170310 ,BTC-USDT-191227|
asks|List|Sell side depth
timestamp|String|UNIX timestamp


